(this["webpackJsonpzwo-editor"]=this["webpackJsonpzwo-editor"]||[]).push([[0],{172:function(e,t,n){e.exports=n.p+"static/media/freeride.27f6b079.svg"},178:function(e,t,n){e.exports=n(268)},187:function(e,t,n){},238:function(e,t){},240:function(e,t){},268:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),o=n(6),c=n.n(o),l=n(23),u=(n(187),n(177)),s=n(11),d=n(2),f=n(9),p=n(13),m=n(5),h=n(3);function b(){var e=Object(d.a)(["\n  background-color: rgba(0, 0, 0, 0);\n  border: 0;\n  float: right;\n  color: white;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  color: black;\n"]);return b=function(){return e},e}function v(){var e=Object(d.a)(["\n  position: fixed;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  padding: 10px;\n\n  align-self: center;\n  margin: 0 auto;\n  background-color: white;\n  border-radius: 5px;\n\n  box-shadow: -5px 1px 51px 0px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: -5px 1px 51px 0px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: -5px 1px 51px 0px rgba(0, 0, 0, 0.75);\n\n  overflow-y: scroll;\n"]);return v=function(){return e},e}function g(){var e=Object(d.a)(["\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n"]);return g=function(){return e},e}!function(e){e[e.resizeHandle=1]="resizeHandle",e[e.fader=3]="fader",e[e.selected=5]="selected",e[e.selectedResizeHandle=6]="selectedResizeHandle",e[e.tooltip=100]="tooltip",e[e.popup=1e3]="popup"}(r||(r={}));var y=h.b.div(g(),r.popup),x=h.b.div(v()),O=h.b.button(b()),E=function(e){return i.a.createElement(y,null,i.a.createElement(x,{style:{width:e.width,height:e.height}},i.a.createElement(O,{onClick:e.onClose},i.a.createElement(p.a,{icon:m.n,size:"lg",fixedWidth:!0})),e.children))},j="https://github.com/nene/zwo-editor";function w(){var e=Object(d.a)(["\n  text-decoration: none;\n  color: #299965;\n"]);return w=function(){return e},e}function k(){var e=Object(d.a)(["\n  display: inline;\n  padding: 0 10px;\n  margin: 0;\n"]);return k=function(){return e},e}function I(){var e=Object(d.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]);return I=function(){return e},e}function C(){var e=Object(d.a)(["\n  padding: 8px;\n  font-size: 12px;\n  text-align: center;\n  color: #484747;\n"]);return C=function(){return e},e}function T(){return i.a.createElement(S,null,i.a.createElement(R,null,i.a.createElement(L,null,"Zwift Workout v2.0 (",i.a.createElement(F,{href:"".concat(j,"/blob/master/LICENSE.md"),target:"blank"},"open source / MIT license"),")"),i.a.createElement(L,null,i.a.createElement(F,{href:"".concat(j,"/issues"),target:"blank"},"Report an issue"))))}var S=h.b.div(C()),R=h.b.ul(I()),L=h.b.li(k()),F=h.b.a(w()),W=n(25),z=n(4),D=n(14),Z=n(75),P=Object(D.b)("workout/clearWorkout"),M=Object(D.b)("workout/loadWorkout"),H={name:"Untitled workout",author:"",description:"",tags:[],sportType:"bike",lengthType:"time"},A=Object(D.d)({name:"meta",initialState:H,reducers:{setName:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{name:t.payload})},setAuthor:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{author:t.payload})},setDescription:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{description:t.payload})},setTags:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{tags:t.payload})},setSportType:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{sportType:t.payload})},setLengthType:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{lengthType:t.payload})}},extraReducers:function(e){e.addCase(P,(function(e){return Object(z.a)(Object(z.a)({},e),{},{name:"Untitled workout",author:"",description:"",tags:[]})})).addCase(M,(function(e,t){var n=t.payload;return{name:n.name,author:n.author,description:n.description,tags:n.tags,sportType:n.sportType,lengthType:n.lengthType}}))}}),N=A.reducer,U=A.actions,B=U.setName,K=U.setAuthor,$=U.setDescription,G=U.setTags,Y=U.setSportType,V=U.setLengthType,J=function(e){return e.meta},_=Object(Z.a)(J,(function(e){return e.name})),q=Object(Z.a)(J,(function(e){return e.author})),Q=Object(Z.a)(J,(function(e){return e.description})),X=Object(Z.a)(J,(function(e){return e.tags})),ee=Object(Z.a)(J,(function(e){return e.sportType})),te=Object(Z.a)(J,(function(e){return e.lengthType}));function ne(){var e=Object(d.a)(["\n  font-size: 10px;\n  text-align: center;\n  padding: 5px;\n"]);return ne=function(){return e},e}var re=h.b.label(ne());function ae(){var e=Object(d.a)(["\n  font-size: 16px;\n  color: gray;\n"]);return ae=function(){return e},e}function ie(){var e=Object(d.a)(["\n  display: inline-block;\n  padding: 10px 10px 10px 0;\n"]);return ie=function(){return e},e}var oe=h.b.div(ie()),ce=Object(h.b)(re)(ae()),le=function(e){return i.a.createElement(oe,null,i.a.createElement(ce,null,i.a.createElement("input",{type:"checkbox",name:e.label,checked:e.isSelected,onChange:function(t){return e.onCheckboxChange()},className:"form-check-input"}),e.label))};function ue(){var e=Object(d.a)(["\n  display: block;\n  width: 100%;\n  padding: 10px;\n  margin-top: 10px;\n\n  font-size: 16px;\n  border: 1px solid #aaa;\n  border-radius: 5px;\n  box-sizing: border-box;\n"]);return ue=function(){return e},e}function se(){var e=Object(d.a)(["\n  font-size: 14px;\n  color: gray;\n  display: block;\n  text-align: left;\n"]);return se=function(){return e},e}function de(){var e=Object(d.a)(["\n  margin: 10px 0;\n  width: 100%;\n"]);return de=function(){return e},e}function fe(){var e=Object(d.a)(["\n  font-size: 34px;\n  font-weight: 200;\n  margin: 0;\n  text-transform: uppercase;\n"]);return fe=function(){return e},e}var pe=["Recovery","Intervals","FTP","TT"],me={setName:B,setAuthor:K,setDescription:$,setTags:G};var he,be=h.b.h2(fe()),ve=h.b.div(de()),ge=Object(h.b)(re)(se()),ye=h.b.input(ue()),xe=Object(l.b)((function(e){return{name:_(e),author:q(e),description:Q(e),tags:X(e)}}),me)((function(e){return i.a.createElement("div",null,i.a.createElement(be,null,"Workout metadata"),i.a.createElement(ve,null,i.a.createElement(ge,{htmlFor:"name"},"Workout Title"),i.a.createElement(ye,{type:"text",id:"name",placeholder:"Workout title",value:e.name,onChange:function(t){return e.setName(t.target.value)}})),i.a.createElement(ve,null,i.a.createElement(ge,{htmlFor:"description"},"Workout description"),i.a.createElement(ye,{as:"textarea",id:"description",placeholder:"Workout description",value:e.description,onChange:function(t){return e.setDescription(t.target.value)}})),i.a.createElement(ve,null,i.a.createElement(ge,{htmlFor:"author"},"Workout Author"),i.a.createElement(ye,{type:"text",id:"author",placeholder:"Workout Author",value:e.author,onChange:function(t){return e.setAuthor(t.target.value)}})),i.a.createElement(ve,null,i.a.createElement(ge,null,"Workout Tags"),pe.map((function(t){return i.a.createElement(le,{key:t,label:t,isSelected:e.tags.includes(t),onCheckboxChange:function(){return e.setTags(function(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(W.a)(e),[t])}(e.tags,t))}})}))))})),Oe=n(163),Ee=function(e){var t=e.name,n=e.description;return i.a.createElement(Oe.a,null,i.a.createElement("title",null,t?"".concat(t," - Zwift Workout Editor"):"My Workout - Zwift Workout Editor"),i.a.createElement("meta",{name:"description",content:n}))},je=n(176),we=(n(231),n(38)),ke=n.n(we);!function(e){e[e.oneMile=0]="oneMile",e[e.fiveKm=1]="fiveKm",e[e.tenKm=2]="tenKm",e[e.halfMarathon=3]="halfMarathon",e[e.marathon=4]="marathon"}(he||(he={}));var Ie=[1609.34,5e3,1e4,21097.5,42195];function Ce(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ce=function(){return e},e}var Te=h.b.div(Ce());function Se(){var e=Object(d.a)(["\n  width: 120px;\n\n  & > input {\n    font-size: 18px;\n    font-family: monospace;\n    color: black;\n  }\n"]);return Se=function(){return e},e}function Re(){var e=Object(d.a)(["\n  .rc-time-picker-panel-input {\n    font-size: 18px;  \n    font-family: monospace;\n  }\n\n  .rc-time-picker-panel-select > ul > li {\n    font-size: 16px;  \n    font-family: monospace;\n  }\n"]);return Re=function(){return e},e}function Le(){var e=Object(d.a)(["\n  padding-right: 10px;\n  align-self: flex-end;\n"]);return Le=function(){return e},e}function Fe(){var e=Object(d.a)(["\n  display: flex;\n  margin: 0 auto;\n  flex-direction: row;\n  width: 100%;\n  max-width: 1360px;\n"]);return Fe=function(){return e},e}function We(e){var t=e.times,n=e.onChange,r=Object(a.useCallback)((function(){n(function(e){var t=[].concat(Object(W.a)(Ie),[1609.34]),n=[].concat(Object(W.a)(e),[680]),r=[];return e.forEach((function(e,a){if(e)r[a]=e;else for(var i=0;i<n.length;i++)if(n[i]){r[a]=n[i]*(t[a]/t[i])*1.06;break}})),r}(t))}),[t,n]),o=function(e,r){var a=Object(W.a)(t);a[e]=r,n(a)};return i.a.createElement(ze,null,i.a.createElement(Ze,{time:t[he.oneMile],onChange:function(e){return o(he.oneMile,e)}},"1 mile time"),i.a.createElement(Ze,{time:t[he.fiveKm],onChange:function(e){return o(he.fiveKm,e)}},"5 km time"),i.a.createElement(Ze,{time:t[he.tenKm],onChange:function(e){return o(he.tenKm,e)}},"10 km time"),i.a.createElement(Ze,{time:t[he.halfMarathon],onChange:function(e){return o(he.halfMarathon,e)}},"Half marathon time"),i.a.createElement(Ze,{time:t[he.marathon],onChange:function(e){return o(he.marathon,e)}},"Marathon time"),i.a.createElement(De,null,i.a.createElement("button",{onClick:r,className:"btn"},"Estimate missing times")))}var ze=h.b.div(Fe()),De=Object(h.b)(Te)(Le()),Ze=function(e){var t=e.time,n=e.onChange,r=e.children;return i.a.createElement(De,null,i.a.createElement(re,null,i.a.createElement("abbr",{title:"hh:mm:ss"},r)),i.a.createElement(Pe,null),i.a.createElement(Me,{value:0===t?void 0:ke.a.utc(1e3*t),placeholder:"00:00:00",defaultOpenValue:ke()("00:00:00"),onChange:function(e){return n(e?ke.a.duration(e.format("HH:mm:ss")).asSeconds():0)}}))},Pe=Object(h.a)(Re()),Me=Object(h.b)(je.a)(Se());var He=n(169),Ae=n.n(He);function Ne(){var e=Object(d.a)(["\n  padding: 5px;\n  color: ",";\n"]);return Ne=function(){return e},e}function Ue(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  color: lightgray;\n"]);return Ue=function(){return e},e}function Be(){var e=Object(d.a)(["\n  max-width: 120px;\n  padding: 0 10px;\n"]);return Be=function(){return e},e}var Ke=Object(h.b)(Te)(Be()),$e=h.b.div(Ue()),Ge=Object(h.b)(p.a)(Ne(),(function(e){return e.$active?"#00C46A":"inherit"})),Ye=function(e){var t=e.label,n=e.leftValue,r=e.rightValue,a=e.leftIcon,o=e.rightIcon,c=e.selected,l=e.onChange;return i.a.createElement(Ke,null,i.a.createElement(re,null,t),i.a.createElement($e,null,i.a.createElement(Ge,{$active:c===n,icon:a,size:"lg",fixedWidth:!0}),i.a.createElement(Ae.a,{onChange:function(){return l(c===n?r:n)},checked:c===r,checkedIcon:!1,uncheckedIcon:!1,onColor:"#00C46A",offColor:"#00C46A"}),i.a.createElement(Ge,{$active:c===r,icon:o,size:"lg",fixedWidth:!0})))},Ve=function(e){return i.a.createElement("div",{className:e.className,onKeyDown:function(t){if(!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement))switch(t.keyCode){case 8:e.onBackspacePress(),t.preventDefault();break;case 37:e.onLeftPress();break;case 39:e.onRightPress();break;case 38:e.onUpPress();break;case 40:e.onDownPress()}},tabIndex:0},e.children)},Je=n(273),_e=function(e){return{meters:e}},qe=function(e){return{seconds:e}},Qe=function(e){return"meters"in e},Xe=function(e){return"seconds"in e},et=qe(300),tt=_e(1e3),nt=he.oneMile,rt=function(e){return"time"===e.lengthType?et:tt},at=function(e,t){return Object(z.a)({type:"steady",id:Object(Je.a)(),length:rt(t),intensity:1,cadence:void 0,pace:nt,instructions:[]},e)},it=function(e,t){return Object(z.a)({type:"ramp",id:Object(Je.a)(),length:rt(t),startIntensity:.5,endIntensity:1,cadence:void 0,pace:nt,instructions:[]},e)},ot=function(e,t){return Object(z.a)({type:"free",id:Object(Je.a)(),length:rt(t),cadence:void 0,instructions:[]},e)},ct=function(e,t){return Object(z.a)({type:"repetition",id:Object(Je.a)(),repeat:3,onLength:"time"===t.lengthType?qe(30):_e(200),offLength:"time"===t.lengthType?qe(120):_e(200),onIntensity:1,offIntensity:.5,onCadence:void 0,offCadence:void 0,pace:nt,instructions:[]},e)},lt=function(e){return Object(z.a)(Object(z.a)({},e),{},{id:Object(Je.a)()})},ut=n(55),st=n(56),dt=n(82),ft=n(81);function pt(e,t){return Math.floor(e/t)*t}var mt=function(){function e(){Object(ut.a)(this,e),this.sportType=void 0,this.lengthType=void 0}return Object(st.a)(e,[{key:"lengthToWidth",value:function(e){return Xe(e)?e.seconds/3:e.meters/10}},{key:"widthToLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{meters:200,seconds:5};return"time"===this.lengthType?qe(pt(3*e,t.seconds)):_e(pt(10*e,t.meters))}},{key:"fromLength",value:function(e){return Xe(e)?e.seconds:e.meters}},{key:"intensityToHeight",value:function(e){return 250*e}},{key:"heightToIntensity",value:function(e){return e/250}}]),e}(),ht=function(e){Object(dt.a)(n,e);var t=Object(ft.a)(n);function n(e,r){var a;return Object(ut.a)(this,n),(a=t.call(this)).ftp=void 0,a.weight=void 0,a.sportType="bike",a.lengthType="time",a.ftp=e,a.weight=r,a}return Object(st.a)(n,[{key:"power",value:function(e){return e*this.ftp}},{key:"wkg",value:function(e){return this.power(e)/this.weight}},{key:"duration",value:function(e){if(Xe(e))return e;throw new Error("Unexpected length:Distance encountered in BikeMode")}},{key:"intervalDuration",value:function(e){switch(e.type){case"free":case"steady":case"ramp":return this.duration(e.length);case"repetition":var t=this.duration(e.onLength),n=this.duration(e.offLength);return qe(e.repeat*(t.seconds+n.seconds))}}},{key:"intervalLength",value:function(e){return this.intervalDuration(e)}}]),n}(mt),bt=function(e){Object(dt.a)(n,e);var t=Object(ft.a)(n);function n(e,r){var a;return Object(ut.a)(this,n),(a=t.call(this)).runningTimes=void 0,a.sportType="run",a.lengthType=void 0,a.runningTimes=e,a.lengthType=r,a}return Object(st.a)(n,[{key:"speed",value:function(e,t){return Ie[t]/this.runningTimes[t]*e}},{key:"distance",value:function(e,t,n){return Xe(e)?_e(this.speed(t,n)*e.seconds):e}},{key:"duration",value:function(e,t,n){return Xe(e)?e:qe(e.meters/this.speed(t,n))}},{key:"intervalDistance",value:function(e){switch(e.type){case"free":return Qe(e.length)?e.length:_e(0);case"steady":return this.distance(e.length,e.intensity,e.pace);case"ramp":return this.distance(e.length,(e.startIntensity+e.endIntensity)/2,e.pace);case"repetition":var t=this.distance(e.onLength,e.onIntensity,e.pace),n=this.distance(e.offLength,e.offIntensity,e.pace);return _e(e.repeat*(t.meters+n.meters))}}},{key:"intervalDuration",value:function(e){switch(e.type){case"free":return Xe(e.length)?e.length:qe(0);case"steady":return this.duration(e.length,e.intensity,e.pace);case"ramp":return this.duration(e.length,(e.startIntensity+e.endIntensity)/2,e.pace);case"repetition":var t=this.duration(e.onLength,e.onIntensity,e.pace),n=this.duration(e.offLength,e.offIntensity,e.pace);return qe(e.repeat*(t.seconds+n.seconds))}}},{key:"intervalLength",value:function(e){return"time"===this.lengthType?this.intervalDuration(e):this.intervalDistance(e)}}]),n}(mt),vt=n(271);function gt(e,t){return _e(Object(vt.a)(e.map((function(e){return t.intervalDistance(e)})).map((function(e){return e.meters}))))}function yt(e,t){return qe(Object(vt.a)(e.map((function(e){return t.intervalDuration(e)})).map((function(e){return e.seconds}))))}n(142);var xt=function(e){return ke.a.duration(e.seconds,"seconds").format("mm:ss",{trim:!1})},Ot=function(e){return Math.round(e.meters)+" m"},Et=function(e){return Math.round(e)+" W"},jt=function(e){return Math.round(100*e)+"%"},wt=function(e){return["1M","5K","10K","HM","M"][e]+" pace"},kt=function(e){if(0===e)return"";var t=1e3/e;return ke.a.duration(t,"seconds").format("m:ss")+"/km"};function It(){var e=Object(d.a)(["\n  font-size: 20px;\n  border: 1px solid lightgray;\n  text-align: center;\n"]);return It=function(){return e},e}function Ct(){var e=Object(d.a)(["\n  max-width: 120px;\n  padding: 0 10px;\n"]);return Ct=function(){return e},e}var Tt=Object(h.b)(Te)(Ct()),St=h.b.input(It());function Rt(e,t,n){var r=0;return e.map((function(e){if("steady"===e.type&&e.intensity){var a=e.intensity*t,i=e.intensity;r+=n.intervalDuration(e).seconds*a*i}if("ramp"===e.type&&e.startIntensity&&e.endIntensity){var o=(e.startIntensity+e.endIntensity)/2*t,c=(e.startIntensity+e.endIntensity)/2;r+=n.intervalDuration(e).seconds*o*c}if("repetition"===e.type&&e.onIntensity&&e.offIntensity&&e.repeat&&e.onLength&&e.offLength){var l=e.onIntensity*t,u=e.onIntensity,s=n.intervalDuration(at({length:e.onLength,intensity:e.onIntensity},n));r+=s.seconds*e.repeat*l*u;var d=e.offIntensity*t,f=e.offIntensity,p=n.intervalDuration(at({length:e.offLength,intensity:e.offIntensity},n));r+=p.seconds*e.repeat*d*f}return!1})),(r/(3600*t)*100).toFixed(0)}var Lt=function(e){var t=e.intervals,n=e.ftp,r=e.mode;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Tt,null,i.a.createElement(re,null,"Workout Time"),i.a.createElement(St,{value:xt(yt(t,r)),disabled:!0})),r instanceof bt&&i.a.createElement(Tt,null,i.a.createElement(re,null,"Workout Distance"),i.a.createElement(St,{value:Ot(gt(t,r)),disabled:!0})),r instanceof ht&&i.a.createElement(Tt,null,i.a.createElement(re,null,"TSS"),i.a.createElement(St,{value:Rt(t,n,r),disabled:!0})))};function Ft(){var e=Object(d.a)(["\n  font-style: italic;\n  margin: 10px 0 0 0;\n"]);return Ft=function(){return e},e}function Wt(){var e=Object(d.a)(["\n  margin-left: 10px;\n  font-size: 21px;\n  color: gray;\n"]);return Wt=function(){return e},e}function zt(){var e=Object(d.a)(["\n  padding: 10px 0;\n  margin: 0;\n"]);return zt=function(){return e},e}function Dt(){var e=Object(d.a)(["\n  flex: 1;\n  cursor: pointer;\n"]);return Dt=function(){return e},e}var Zt,Pt=h.b.div(Dt()),Mt=h.b.h1(zt()),Ht=Object(h.b)(p.a)(Wt()),At=h.b.p(Ft()),Nt=function(e){var t=e.name,n=e.author,r=e.description,a=e.onClick;return i.a.createElement(Pt,{onClick:a},i.a.createElement(Mt,null,t," ",i.a.createElement(Ht,{icon:m.j})),i.a.createElement("div",null,r),i.a.createElement(At,null,n?"by ".concat(n):""))},Ut=Object(D.d)({name:"athlete",initialState:{ftp:200,weight:75,runningTimes:[0,0,0,0,0]},reducers:{setFtp:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{ftp:t.payload})},setWeight:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{weight:t.payload})},setRunningTimes:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{runningTimes:t.payload})}}}),Bt=Ut.reducer,Kt=Ut.actions,$t=Kt.setFtp,Gt=Kt.setWeight,Yt=Kt.setRunningTimes,Vt=function(e){return e.athlete},Jt=Object(Z.a)(Vt,(function(e){return e.ftp})),_t=Object(Z.a)(Vt,(function(e){return e.weight})),qt=Object(Z.a)(Vt,(function(e){return e.runningTimes}));!function(e){e.GRAY="#807F80",e.BLUE="#0E90D4",e.GREEN="#00C46A",e.YELLOW="#FFCB00",e.ORANGE="#FF6430",e.RED="#E90000",e.WHITE="#FFFFFF"}(Zt||(Zt={}));var Qt={Z1:{min:.1,max:.605},Z2:{min:.605,max:.763},Z3:{min:.763,max:.901},Z4:{min:.901,max:1.053},Z5:{min:1.053,max:1.194},Z6:{min:1.194,max:2}},Xt=[[Qt.Z1.min,Qt.Z1.max],[Qt.Z2.min,Qt.Z2.max],[Qt.Z3.min,Qt.Z3.max],[Qt.Z4.min,Qt.Z4.max],[Qt.Z5.min,Qt.Z5.max],[Qt.Z6.min,Qt.Z6.max]],en=function(e){return e<Qt.Z1.max?Zt.GRAY:e<Qt.Z2.max?Zt.BLUE:e<Qt.Z3.max?Zt.GREEN:e<Qt.Z4.max?Zt.YELLOW:e<Qt.Z5.max?Zt.ORANGE:Zt.RED},tn=n(270),nn=n(272),rn=n(269);function an(e,t,n){var r=n.findIndex(Object(tn.a)("id",e));return-1===r?n:Object(nn.a)(r,t(n[r]),n)}function on(e,t,n,r){return an(e,(function(e){if("steady"===e.type||"free"===e.type||"ramp"===e.type){var n=function(e,t){if(Xe(e)&&Xe(t))return qe(e.seconds+t.seconds);if(Qe(e)&&Qe(t))return _e(e.meters+t.meters);throw new Error("Unable to sum Distance with Duration")}(r.intervalLength(e),t);if(r.fromLength(n)>0)return Object(z.a)(Object(z.a)({},e),{},{length:n})}return e}),n)}function cn(e,t){var n=t.findIndex(Object(tn.a)("id",e.id));return-1===n?t:Object(nn.a)(n,e,t)}var ln=Object(D.d)({name:"selectedId",initialState:null,reducers:{setSelectedId:function(e,t){return t.payload},clearSelection:function(){return null}}}),un=ln.reducer,sn=ln.actions,dn=sn.setSelectedId,fn=sn.clearSelection,pn=function(e){return e.selectedId||void 0};var mn=Object(Z.a)(ee,Jt,_t,qt,te,(function(e,t,n,r,a){return function(e){var t=e.sportType,n=e.ftp,r=e.weight,a=e.runningTimes,i=e.lengthType;switch(t){case"bike":return new ht(n,r);case"run":return new bt(a,i)}}({sportType:e,ftp:t,weight:n,runningTimes:r,lengthType:a})})),hn=Object(D.d)({name:"intervals",initialState:[],reducers:{setIntervals:function(e,t){return t.payload},addInterval:function(e,t){return[].concat(Object(W.a)(e),[t.payload])},updateInterval:function(e,t){return cn(t.payload,e)},removeInterval:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))},removeInstruction:function(e,t){var n=t.payload;return bn({intervals:e,intervalId:n.intervalId,update:function(e){return e.filter((function(e){return e.id!==n.instructionId}))}})},updateInstruction:function(e,t){var n=t.payload;return bn({intervals:e,intervalId:n.intervalId,update:function(e){return cn(n.instruction,e)}})},addInstruction:function(e,t){var n=t.payload;return bn({intervals:e,intervalId:n.intervalId,update:function(e){return[].concat(Object(W.a)(e),[n.instruction])}})}},extraReducers:function(e){e.addCase(P,(function(){return[]})).addCase(M,(function(e,t){return t.payload.intervals}))}}),bn=function(e){var t=e.intervals,n=e.intervalId,r=e.update,a=t.find(Object(tn.a)("id",n));return a?cn(Object(z.a)(Object(z.a)({},a),{},{instructions:r(a.instructions)}),t):t},vn=hn.reducer,gn=hn.actions,yn=gn.setIntervals,xn=gn.addInterval,On=gn.updateInterval,En=gn.removeInterval,jn=gn.removeInstruction,wn=gn.updateInstruction,kn=gn.addInstruction,In=Object(D.c)("intervals/removeSelectedInterval",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());r(En(a)),r(fn())})),Cn=Object(D.c)("intervals/duplicateSelectedInterval",(function(e,t){var n=t.getState,r=t.dispatch,a=Wn(n());a&&r(xn(lt(a))),r(fn())})),Tn=Object(D.c)("intervals/adjustSelectedIntervalIntensity",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());if(a){var i=Fn(n());r(yn(function(e,t,n){return an(e,(function(e){if("steady"===e.type){var n=e.intensity+t;if(n>Qt.Z1.min)return Object(z.a)(Object(z.a)({},e),{},{intensity:n})}return e}),n)}(a,e,i)))}})),Sn=Object(D.c)("intervals/adjustSelectedIntervalLength",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());if(a){var i=Fn(n()),o=mn(n());r(yn(on(a,e,i,o)))}})),Rn=Object(D.c)("intervals/moveSelectedInterval",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());if(a){var i=Fn(n());r(yn(function(e,t,n){var r=n.findIndex(Object(tn.a)("id",e)),a=r+t;return r<0||a<0||a>=n.length?n:Object(rn.a)(r,a,n)}(a,e,i)))}})),Ln=Object(D.c)("intervals/setSelectedIntervalPace",(function(e,t){var n=t.getState,r=t.dispatch,a=Wn(n());a&&"steady"===a.type&&r(On(Object(z.a)(Object(z.a)({},a),{},{pace:e})))})),Fn=function(e){return e.intervals},Wn=Object(Z.a)(pn,Fn,(function(e,t){return t.find((function(t){return t.id===e}))})),zn=Object(Z.a)(Wn,(function(e){return e&&"free"!==e.type?e.pace:void 0})),Dn=Object(Z.a)(Wn,(function(e){return null===e||void 0===e?void 0:e.id})),Zn=n(29);function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Hn=i.a.createElement("title",null,"Untitled"),An=i.a.createElement("desc",null,"Created with Sketch."),Nn=i.a.createElement("defs",null),Un=i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.a.createElement("polygon",{id:"Rectangle",fill:"#7F7E7F",points:"180 65.2104719 240 85.8538747 240 171.707749 180 171.707749"}),i.a.createElement("polygon",{id:"Rectangle",fill:"#3F8FCF",points:"120 43.4859336 180 65.1100145 180 171.707749 120 171.707749"}),i.a.createElement("polygon",{id:"Rectangle",fill:"#58C073",points:"60 22.1649934 120 43.597184 120 171.707749 60 171.707749"}),i.a.createElement("polygon",{id:"Rectangle",fill:"#F8CC46",points:"0 0 60 22.0976562 60 171.707749 0 171.707749"})),Bn=function(e){var t=e.svgRef,n=e.title,r=Mn(e,["svgRef","title"]);return i.a.createElement("svg",Pn({viewBox:"0 0 240 172",ref:t},r),void 0===n?Hn:n?i.a.createElement("title",null,n):null,An,Nn,Un)},Kn=i.a.forwardRef((function(e,t){return i.a.createElement(Bn,Pn({svgRef:t},e))}));n.p;function $n(){return($n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Yn=i.a.createElement("title",null,"Untitled"),Vn=i.a.createElement("desc",null,"Created with Sketch."),Jn=i.a.createElement("defs",null),_n=i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.a.createElement("polygon",{id:"Rectangle",fill:"#7F7E7F",points:"0 85.8538747 60 65.290624 60 171.707749 0 171.707749"}),i.a.createElement("polygon",{id:"Rectangle",fill:"#3F8FCF",points:"60 65.2906189 120 44 120 171.707749 60 171.707749"}),i.a.createElement("polygon",{id:"Rectangle",fill:"#58C073",points:"120 44 180 22 180 171.707749 120 171.707749"}),i.a.createElement("polygon",{id:"Rectangle",fill:"#F8CC46",points:"180 22 240 0 240 171.707749 180 171.707749"})),qn=function(e){var t=e.svgRef,n=e.title,r=Gn(e,["svgRef","title"]);return i.a.createElement("svg",$n({viewBox:"0 0 240 172",ref:t},r),void 0===n?Yn:n?i.a.createElement("title",null,n):null,Vn,Jn,_n)},Qn=i.a.forwardRef((function(e,t){return i.a.createElement(qn,$n({svgRef:t},e))}));n.p;function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function er(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var tr=i.a.createElement("title",null,"interval"),nr=i.a.createElement("desc",null,"Created with Sketch."),rr=i.a.createElement("defs",null),ar=i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.a.createElement("g",{id:"interval"},i.a.createElement("rect",{id:"Rectangle-2",fill:"#F8CC46",x:0,y:0,width:24,height:170}),i.a.createElement("rect",{id:"Rectangle-2",fill:"#F8CC46",x:166,y:0,width:24,height:170}),i.a.createElement("rect",{id:"Rectangle-2",fill:"#F8CC46",x:83,y:0,width:24,height:170}),i.a.createElement("rect",{id:"Rectangle-3",fill:"#3F8FCF",x:24,y:63,width:59,height:107}),i.a.createElement("rect",{id:"Rectangle-3",fill:"#3F8FCF",x:190,y:63,width:59,height:107}),i.a.createElement("rect",{id:"Rectangle-3",fill:"#3F8FCF",x:107,y:63,width:59,height:107}))),ir=function(e){var t=e.svgRef,n=e.title,r=er(e,["svgRef","title"]);return i.a.createElement("svg",Xn({viewBox:"0 0 249 170",ref:t},r),void 0===n?tr:n?i.a.createElement("title",null,n):null,nr,rr,ar)},or=i.a.forwardRef((function(e,t){return i.a.createElement(ir,Xn({svgRef:t},e))}));n.p;function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ur=i.a.createElement("title",null,"Rectangle"),sr=i.a.createElement("desc",null,"Created with Sketch."),dr=i.a.createElement("defs",null),fr=i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.a.createElement("g",{id:"warmup",fillRule:"nonzero",fill:"#F8CC46"},i.a.createElement("polygon",{id:"Rectangle",points:"0 0 40 0 40 121.707749 6.24500451e-16 121.707749"}))),pr=function(e){var t=e.svgRef,n=e.title,r=lr(e,["svgRef","title"]);return i.a.createElement("svg",cr({viewBox:"0 0 40 30",ref:t},r),void 0===n?ur:n?i.a.createElement("title",null,n):null,sr,dr,fr)},mr=i.a.forwardRef((function(e,t){return i.a.createElement(pr,cr({svgRef:t},e))}));n.p;function hr(){var e=Object(d.a)(["\n  max-width: 100px;\n"]);return hr=function(){return e},e}function br(){var e=Object(d.a)(["\n  font-size: 20px;\n  border: 1px solid lightgray;\n  text-align: center;\n"]);return br=function(){return e},e}var vr=h.b.input(br()),gr=Object(h.b)(Te)(hr()),yr=function(e){var t=e.name,n=e.label,r=e.value,a=e.onChange;return i.a.createElement(gr,null,i.a.createElement(re,{htmlFor:t},n),i.a.createElement(vr,{type:"number",name:t,value:r,onChange:function(e){return a(parseInt(e.target.value))}}))},xr=n(123),Or=n.n(xr),Er=n(170);function jr(){var e=Object(d.a)(["\n  display: inline-block;\n  background-color: white;\n  border: none;\n  text-align: center;\n  font-size: 13px;\n  border-radius: 5px;\n  min-width: 50px;\n  box-shadow: 2px 2px 5px #bbb;\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: 2px 2px 5px #999;\n  }\n  &:active {\n    position: relative;\n    top: 1px;\n    left: 1px;\n  }\n"]);return jr=function(){return e},e}var wr=h.b.button(jr());function kr(){var e=Object(d.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return kr=function(){return e},e}var Ir=Object(h.b)(p.a)(kr()),Cr=function(e){var t=e.icon,n=e.children,r=e.onClick;return i.a.createElement(wr,{onClick:r},i.a.createElement(Ir,{icon:t,size:"lg",fixedWidth:!0})," ",n)},Tr=n(171),Sr=n.n(Tr);function Rr(e,t){var n,r,a=(n=t.sportType,r=t.lengthType,{author:"",name:"",description:"",sportType:n,lengthType:r,tags:[],intervals:[]});e=e.replace(/<!--(.*?)-->/gm,"");var i=Sr.a.xml2js(e).elements[0];if("workout_file"!==i.name)throw new Error("Invalid ZWO file");var o=i.elements.findIndex((function(e){return"sportType"===e.name}));-1!==o&&i.elements[o].elements&&(a.sportType=i.elements[o].elements[0].text);var c=i.elements.findIndex((function(e){return"durationType"===e.name}));-1!==c&&i.elements[c].elements&&(a.lengthType=i.elements[c].elements[0].text);var l=i.elements.findIndex((function(e){return"author"===e.name}));-1!==l&&i.elements[l].elements&&(a.author=i.elements[l].elements[0].text);var u=i.elements.findIndex((function(e){return"name"===e.name}));-1!==u&&i.elements[u].elements&&(a.name=i.elements[u].elements[0].text);var s=i.elements.findIndex((function(e){return"description"===e.name}));-1!==s&&i.elements[s].elements&&(a.description=i.elements[s].elements[0].text);var d=i.elements.findIndex((function(e){return"tags"===e.name}));-1!==d&&i.elements[d].elements&&(a.tags=i.elements[d].elements.map((function(e){return e.attributes.name})));var f=i.elements.find((function(e){return"workout"===e.name&&"elements"in e}));if(!f)return a;var p=function(e){return"time"===a.lengthType?qe(e):_e(e)};return f.elements.map((function(e){return"SteadyState"===e.name&&a.intervals.push(at({intensity:parseFloat(e.attributes.Power||e.attributes.PowerLow),length:p(parseFloat(e.attributes.Duration)),cadence:e.attributes.Cadence?parseFloat(e.attributes.Cadence):void 0,pace:parseInt(e.attributes.pace||"0"),instructions:Lr(e.elements,p)},t)),"Ramp"!==e.name&&"Warmup"!==e.name&&"Cooldown"!==e.name||a.intervals.push(it({startIntensity:parseFloat(e.attributes.PowerLow),endIntensity:parseFloat(e.attributes.PowerHigh),length:p(parseFloat(e.attributes.Duration)),pace:parseInt(e.attributes.pace||"0"),cadence:e.attributes.Cadence?parseFloat(e.attributes.Cadence):void 0,instructions:Lr(e.elements,p)},t)),"IntervalsT"===e.name&&a.intervals.push(ct({repeat:parseFloat(e.attributes.Repeat),onLength:p(parseFloat(e.attributes.OnDuration)),offLength:p(parseFloat(e.attributes.OffDuration)),onIntensity:parseFloat(e.attributes.OnPower),offIntensity:parseFloat(e.attributes.OffPower),onCadence:e.attributes.Cadence?parseFloat(e.attributes.Cadence):void 0,offCadence:e.attributes.CadenceResting?parseFloat(e.attributes.CadenceResting):void 0,pace:parseInt(e.attributes.pace||"0"),instructions:Lr(e.elements,p)},t)),"FreeRide"===e.name&&a.intervals.push(ot({length:p(parseFloat(e.attributes.Duration)),cadence:e.attributes.Cadence?parseFloat(e.attributes.Cadence):void 0,instructions:Lr(e.elements,p)},t)),!1})),a}function Lr(e,t){return e&&0!==e.length?e.filter((function(e){return"textevent"===e.name.toLowerCase()})).map((function(e){return{text:e.attributes.message||"",offset:t(parseFloat(e.attributes.timeoffset)),id:Object(Je.a)()}})):[]}var Fr=function(e){var t=e.mode,n=e.onUpload;function r(){return(r=Object(Er.a)(Or.a.mark((function e(r){return Or.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.t1=Rr,e.next=5,r.text();case 5:e.t2=e.sent,e.t3=t,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),e.next=14;break;case 11:e.prev=11,e.t5=e.catch(0),console.error(e.t5);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{accept:".xml,.zwo",id:"contained-button-file",type:"file",style:{display:"none"},onChange:function(e){return function(e){return r.apply(this,arguments)}(e.target.files[0])}}),i.a.createElement(Cr,{icon:m.q,onClick:function(){return document.getElementById("contained-button-file").click()}},"Upload"))};function Wr(){var e=Object(d.a)(["\n  color: white;\n  width: 50px;\n  height: 50px;\n  background-color: ",";\n"]);return Wr=function(){return e},e}var zr=Object(h.b)(wr)(Wr(),(function(e){return e.color})),Dr=n(39),Zr=n.n(Dr);function Pr(e,t){var n=e.author,r=e.name,a=e.description,i=e.sportType,o=e.lengthType,c=e.tags,l=e.intervals,u=Zr.a.begin().ele("workout_file").ele("author",n).up().ele("name",r).up().ele("description",a).up().ele("sportType",i).up().ele("durationType",o).up().ele("tags");return c.forEach((function(e){var t;t=Zr.a.create("tag").att("name",e),u.importDocument(t)})),u=u.up().ele("workout"),l.forEach((function(e,n){var r,a;"steady"===e.type?(r=Zr.a.create("SteadyState").att("Duration",t.fromLength(e.length)).att("Power",e.intensity).att("pace",e.pace),0!==e.cadence&&r.att("Cadence",e.cadence)):"ramp"===e.type&&e.startIntensity&&e.endIntensity?(a="Ramp",0===n&&(a="Warmup"),n===l.length-1&&(a="Cooldown"),e.startIntensity,e.endIntensity,r=Zr.a.create(a).att("Duration",t.fromLength(e.length)).att("PowerLow",e.startIntensity).att("PowerHigh",e.endIntensity).att("pace",e.pace),void 0!==e.cadence&&r.att("Cadence",e.cadence)):"repetition"===e.type?(r=Zr.a.create("IntervalsT").att("Repeat",e.repeat).att("OnDuration",t.fromLength(e.onLength)).att("OffDuration",t.fromLength(e.offLength)).att("OnPower",e.onIntensity).att("OffPower",e.offIntensity).att("pace",e.pace),void 0!==e.onCadence&&r.att("Cadence",e.onCadence),void 0!==e.offCadence&&r.att("CadenceResting",e.offCadence)):(r=Zr.a.create("FreeRide").att("Duration",t.fromLength(e.length)).att("FlatRoad",0),void 0!==e.cadence&&r.att("Cadence",e.cadence));e.instructions.filter((function(n){return t.fromLength(n.offset)>=0&&t.fromLength(n.offset)<function(e){return t instanceof bt&&"distance"===t.lengthType?t.intervalDistance(e).meters:t.intervalDuration(e).seconds}(e)})).forEach((function(e){r.ele("textevent",{timeoffset:t.fromLength(e.offset),message:e.text})})),u.importDocument(r)})),u.end({pretty:!0})}var Mr=Object(l.b)((function(e){return{name:_(e),author:q(e),description:Q(e),tags:X(e),sportType:ee(e),lengthType:te(e),intervals:Fn(e),mode:mn(e)}}))((function(e){return i.a.createElement(Cr,{icon:m.i,onClick:function(){var t=function(){var t=Pr({name:e.name,author:e.author,description:e.description,tags:e.tags,sportType:e.sportType,lengthType:e.lengthType,intervals:e.intervals},e.mode);return new Blob([t],{type:"application/xml"})}(),n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.style.display="none",r.href=n,r.download="workout.zwo",r.click(),window.URL.revokeObjectURL(n)}},"Download")}));function Hr(){var e=Object(d.a)(["\n  width: 30px;\n  margin: 0 auto;\n  display: block;\n  margin: 0 auto;\n"]);return Hr=function(){return e},e}var Ar=h.b.svg(Hr()),Nr=function(e){var t=e.svg,n=e.children,r=e.onClick;return i.a.createElement(wr,{onClick:r},i.a.createElement(Ar,{as:t})," ",n)};function Ur(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin: 10px auto;\n  padding: 20px;\n  background-color: white;\n\n  -webkit-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  -moz-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  border-radius: 5px;\n\n  & > * {\n    margin-right: 5px;\n  }\n  & > *:last-child {\n    margin-right: 0;\n  }\n"]);return Ur=function(){return e},e}var Br={setFtp:$t,setWeight:Gt,addInterval:xn,clearWorkout:P,loadWorkout:M},Kr=h.b.div(Ur()),$r=Object(l.b)((function(e){return{sportType:ee(e),ftp:Jt(e),weight:_t(e),mode:mn(e)}}),Br)((function(e){var t=e.mode,n=e.addInterval,r=Object(Zn.a)(e,["mode","addInterval"]);return i.a.createElement(Kr,null,"bike"===r.sportType?i.a.createElement(i.a.Fragment,null,i.a.createElement(zr,{color:Zt.GRAY,onClick:function(){return n(at({intensity:.5},t))}},"Z1"),i.a.createElement(zr,{color:Zt.BLUE,onClick:function(){return n(at({intensity:Qt.Z2.min},t))}},"Z2"),i.a.createElement(zr,{color:Zt.GREEN,onClick:function(){return n(at({intensity:Qt.Z3.min},t))}},"Z3"),i.a.createElement(zr,{color:Zt.YELLOW,onClick:function(){return n(at({intensity:Qt.Z4.min},t))}},"Z4"),i.a.createElement(zr,{color:Zt.ORANGE,onClick:function(){return n(at({intensity:Qt.Z5.min},t))}},"Z5"),i.a.createElement(zr,{color:Zt.RED,onClick:function(){return n(at({intensity:Qt.Z6.min},t))}},"Z6")):i.a.createElement(Nr,{svg:mr,onClick:function(){return n(at({},t))}},"Steady Pace"),i.a.createElement(Nr,{svg:Qn,onClick:function(){return n(it({startIntensity:.25,endIntensity:.75},t))}},"Warm up"),i.a.createElement(Nr,{svg:Kn,onClick:function(){return n(it({startIntensity:.75,endIntensity:.25},t))}},"Cool down"),i.a.createElement(Nr,{svg:or,onClick:function(){return n(ct({},t))}},"Interval"),i.a.createElement(Cr,{icon:"bike"===r.sportType?m.c:m.m,onClick:function(){return n(ot({},t))}},"bike"===r.sportType?"Free Ride":"Free Run"),"bike"===r.sportType&&i.a.createElement(yr,{name:"ftp",label:"FTP (W)",value:r.ftp,onChange:r.setFtp}),"bike"===r.sportType&&i.a.createElement(yr,{name:"weight",label:"Body Weight (kg)",value:r.weight,onChange:r.setWeight}),i.a.createElement(Cr,{icon:m.k,onClick:function(){window.confirm("Are you sure you want to create a new workout?")&&r.clearWorkout()}},"New"),i.a.createElement(Mr,null),i.a.createElement(Fr,{mode:t,onUpload:r.loadWorkout}))})),Gr=n(57),Yr=n(79),Vr=n.n(Yr);function Jr(){var e=Object(d.a)(["\n  flex: 1;\n  display: inline-block;\n  font-size: 14px;\n  height: 19px;\n"]);return Jr=function(){return e},e}function _r(){var e=Object(d.a)(["\n  background-color: rgba(255, 255, 255, 0.1);\n  color: white;\n  border: 0;\n  border-bottom: 0px solid white;\n  font-size: 14px;\n  min-width: 1px;\n  flex: 1;\n"]);return _r=function(){return e},e}function qr(){var e=Object(d.a)(["\n  font-size: 14px;\n  padding-right: 5px;\n"]);return qr=function(){return e},e}function Qr(){var e=Object(d.a)(["\n  display: flex;\n"]);return Qr=function(){return e},e}function Xr(){var e=Object(d.a)(["\n  position: absolute;\n  z-index: ",";\n  top: -95px;\n  left: 0;\n  color: white;\n  background-color: rgba(0, 0, 0, 0.7);\n  width: 150px;\n  border-radius: 5px;\n  margin: 5px 0;\n  font-size: 14px;\n  padding: 5px;\n"]);return Xr=function(){return e},e}var ea=h.b.div(Xr(),r.tooltip);function ta(e){var t,n=e.interval,r=e.mode,a=e.onCadenceChange;return i.a.createElement(i.a.Fragment,null,"steady"===n.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(p.a,{icon:m.e,fixedWidth:!0})," ",Et(r.power(n.intensity))),i.a.createElement("div",null,(t=r.wkg(n.intensity),Math.round(10*t)/10+" W/kg")," \xb7"," ",jt(n.intensity)," FTP")),"ramp"===n.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(p.a,{icon:m.e,fixedWidth:!0})," ",Et(r.power(n.startIntensity))," -"," ",Et(r.power(n.endIntensity))),i.a.createElement("div",null,jt(n.startIntensity)," -"," ",jt(n.endIntensity)," FTP")),i.a.createElement(na,{cadence:n.cadence,onChange:a}))}var na=function(e){var t=e.cadence,n=e.onChange,r=Object(a.useState)(!1),o=Object(f.a)(r,2),c=o[0],l=o[1],u=Object(a.useState)(!1),s=Object(f.a)(u,2),d=s[0],p=s[1];return i.a.createElement(aa,{onMouseOver:function(){return l(!0)},onMouseOut:function(){return l(!1)}},i.a.createElement(ia,null,i.a.createElement("img",{src:Vr.a,width:"16",alt:"Cadence"})),c||d?i.a.createElement(oa,{$cadence:t,$onCadenceChange:n,onFocus:function(){return p(!0)},onBlur:function(){return p(!1)}}):i.a.createElement(ca,null,t?t+" rpm":"\u2014"))};function ra(e){var t=e.interval,n=e.mode;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(p.a,{icon:m.l,fixedWidth:!0})," ",Ot(n.intervalDistance(t))),"steady"===t.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,jt(t.intensity)," ",wt(t.pace)),i.a.createElement("div",null,kt(n.speed(t.intensity,t.pace)))),"ramp"===t.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,jt(t.startIntensity)," to"," ",jt(t.endIntensity)," ",wt(t.pace)),i.a.createElement("div",null,kt(n.speed(t.startIntensity,t.pace))," ","to"," ",kt(n.speed(t.endIntensity,t.pace)))))}var aa=h.b.div(Qr()),ia=h.b.label(qr()),oa=h.b.input.attrs((function(e){return{type:"number",min:"40",max:"150",step:"5",value:e.$cadence||"",onChange:function(t){e.$onCadenceChange(t.target.value?parseInt(t.target.value):void 0)},onClick:function(e){e.stopPropagation()}}}))(_r()),ca=h.b.span(Jr()),la=function(e){var t=e.mode,n=Object(Zn.a)(e,["mode"]);return i.a.createElement(ea,null,i.a.createElement("div",null,i.a.createElement(p.a,{icon:m.f,fixedWidth:!0})," ",xt(t.intervalDuration(n.interval))),t instanceof ht?i.a.createElement(ta,Object.assign({mode:t},n)):i.a.createElement(ra,Object.assign({mode:t},n)))},ua=n(172),sa=n.n(ua);function da(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  & > span {\n    padding-left: 5px;\n  }\n"]);return da=function(){return e},e}function fa(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 0;\n  box-sizing: border-box;\n  padding: 2px;\n  color: white;\n  height: ","px;\n"]);return fa=function(){return e},e}var pa=function(e){var t=e.cadence,n=e.instructions,r=e.height,a=e.className;return i.a.createElement(ma,{className:a,$height:r},t&&i.a.createElement(ha,null,i.a.createElement("img",{src:Vr.a,alt:"Has cadence",width:"16"}),i.a.createElement("span",null,t)),n.length>0&&i.a.createElement(ha,null,i.a.createElement(p.a,{icon:m.g,size:"sm",fixedWidth:!0,color:"white"}),i.a.createElement("span",null,n.length)))},ma=h.b.div(fa(),(function(e){return e.$height})),ha=h.b.div(da());function ba(){var e=Object(d.a)(["\n  padding-top: 25px;\n"]);return ba=function(){return e},e}function va(){var e=Object(d.a)(['\n  border: 1px solid white;\n  background-image: url("','");\n']);return va=function(){return e},e}function ga(){var e=Object(d.a)(["\n  position: relative;\n"]);return ga=function(){return e},e}var ya=h.b.div(ga()),xa=Object(h.b)(Gr.a)(va(),sa.a),Oa=Object(h.b)(pa)(ba()),Ea=function(e){var t=e.interval,n=e.mode,o=Object(Zn.a)(e,["interval","mode"]),c=Object(a.useState)(n.lengthToWidth(t.length)),l=Object(f.a)(c,2),u=l[0],s=l[1],d=Object(a.useState)(!1),p=Object(f.a)(d,2),m=p[0],h=p[1],b=function(e){o.onChange(Object(z.a)(Object(z.a)({},t),{},{length:n.widthToLength(u+e)}))};return i.a.createElement(ya,{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},style:o.selected?{zIndex:r.selected}:{},onClick:function(){return o.onClick(t.id)}},(o.selected||m)&&i.a.createElement(la,{interval:t,mode:n,onCadenceChange:function(e){return function(e){o.onChange(Object(z.a)(Object(z.a)({},t),{},{cadence:e}))}(e)}}),i.a.createElement(xa,{size:{width:n.lengthToWidth(t.length),height:160},minWidth:3,minHeight:160,maxHeight:160,enable:{right:!0},grid:[1,1],onResizeStop:function(e,t,n,r){return a=r.width,s(u+a),void b(a);var a},onResize:function(e,t,n,r){return b(r.width)}},i.a.createElement(Oa,{height:160,cadence:t.cadence,instructions:t.instructions})))};function ja(){var e=Object(d.a)(["\n  border-radius: 10px;\n  border: 1px solid white;\n"]);return ja=function(){return e},e}function wa(){var e=Object(d.a)(["\n  position: relative;\n"]);return wa=function(){return e},e}var ka=h.b.div(wa()),Ia=Object(h.b)(Gr.a)(ja()),Ca=function(e){var t=e.interval,n=e.mode,o=Object(Zn.a)(e,["interval","mode"]),c={backgroundColor:en(t.intensity)},l=Object(a.useState)(n.lengthToWidth(t.length)),u=Object(f.a)(l,2),s=u[0],d=u[1],p=Object(a.useState)(n.intensityToHeight(t.intensity)),m=Object(f.a)(p,2),h=m[0],b=m[1],v=Object(a.useState)(!1),g=Object(f.a)(v,2),y=g[0],x=g[1],O=Object(a.useState)(o.selected),E=Object(f.a)(O,2),j=E[0],w=E[1];Object(a.useEffect)((function(){w(o.selected)}),[o.selected]);var k=function(e,r){o.onChange(Object(z.a)(Object(z.a)({},t),{},{length:n.widthToLength(s+e),intensity:n.heightToIntensity(h+r)}))};return i.a.createElement(ka,{onMouseEnter:function(){return x(!0)},onMouseLeave:function(){return x(!1)},onClick:function(){return o.onClick(t.id)},style:o.selected?{zIndex:r.selected}:{}},(j||y)&&o.showTooltip&&i.a.createElement(la,{interval:t,mode:n,onCadenceChange:function(e){return function(e){o.onChange(Object(z.a)(Object(z.a)({},t),{},{cadence:e}))}(e)}}),i.a.createElement(Ia,{size:{width:n.lengthToWidth(t.length),height:n.intensityToHeight(t.intensity)},minWidth:3,minHeight:250*Qt.Z1.min,maxHeight:250*Qt.Z6.max,enable:{top:!0,right:!0},grid:[1,1],onResizeStop:function(e,t,n,r){return a=r.width,i=r.height,d(s+a),b(h+i),void k(a,i);var a,i},onResize:function(e,t,n,r){return k(r.width,r.height)},style:c},i.a.createElement(pa,{height:n.intensityToHeight(t.intensity),cadence:t.cadence,instructions:t.instructions})))};function Ta(){var e=Object(d.a)(["\n  fill: white;\n  display: hidden;\n"]);return Ta=function(){return e},e}function Sa(){var e=Object(d.a)(["\n  fill: transparent;\n"]);return Sa=function(){return e},e}function Ra(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n"]);return Ra=function(){return e},e}function La(){var e=Object(d.a)(["\n  &:first-child {\n    border-bottom-left-radius: 5px;\n  }\n  &:last-child {\n    border-bottom-right-radius: 5px;\n  }\n"]);return La=function(){return e},e}function Fa(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 0px;\n  left: 0;\n  width: 100%;\n  display: flex;\n"]);return Fa=function(){return e},e}function Wa(){var e=Object(d.a)(["\n  border-top: 1px dotted black;\n  z-index: ",";\n"]);return Wa=function(){return e},e}function za(){var e=Object(d.a)(["\n  display: flex;\n  align-items: flex-end;\n"]);return za=function(){return e},e}function Da(){var e=Object(d.a)(["\n  position: relative;\n"]);return Da=function(){return e},e}var Za=h.b.div(Da()),Pa=h.b.div(za()),Ma=Object(h.b)(Gr.a)(Wa(),(function(e){return e.$selected?r.selectedResizeHandle:r.resizeHandle})),Ha=function(e){var t=e.interval,n=e.startHeight,r=e.endHeight,a=r>n?r:n,o=r>n?Ua(t.startIntensity,t.endIntensity):Ua(t.endIntensity,t.startIntensity),c=r>n?"row":"row-reverse";return i.a.createElement(Aa,{style:{height:a,flexDirection:c,backgroundColor:en(t.startIntensity)}},i.a.createElement(Na,{style:{backgroundColor:Zt.GRAY,width:"".concat(100*o.Z1/Math.abs(t.endIntensity-t.startIntensity),"%")}}),i.a.createElement(Na,{style:{backgroundColor:Zt.BLUE,width:"".concat(100*o.Z2/Math.abs(t.endIntensity-t.startIntensity),"%")}}),i.a.createElement(Na,{style:{backgroundColor:Zt.GREEN,width:"".concat(100*o.Z3/Math.abs(t.endIntensity-t.startIntensity),"%")}}),i.a.createElement(Na,{style:{backgroundColor:Zt.YELLOW,width:"".concat(100*o.Z4/Math.abs(t.endIntensity-t.startIntensity),"%")}}),i.a.createElement(Na,{style:{backgroundColor:Zt.ORANGE,width:"".concat(100*o.Z5/Math.abs(t.endIntensity-t.startIntensity),"%")}}),i.a.createElement(Na,{style:{backgroundColor:Zt.RED,width:"".concat(100*o.Z6/Math.abs(t.endIntensity-t.startIntensity),"%")}}))},Aa=h.b.div(Fa()),Na=h.b.div(La());function Ua(e,t){var n={};return Xt.forEach((function(r,a){e>=r[0]&&e<r[1]?n["Z"+(a+1)]=r[1]-e:t>=r[0]&&t<r[1]?n["Z"+(a+1)]=t-r[0]:t>=r[1]&&e<r[0]?n["Z"+(a+1)]=r[1]-r[0]:n["Z"+(a+1)]=0})),n}var Ba=function(e){var t=e.width,n=e.startHeight,r=e.endHeight,a=r>n?r:n,o=r>n?r-n:n-r,c=r>n?0:t,l=r>n?o:0,u=r>n?0:o;return i.a.createElement(Ka,{height:"".concat(a),width:"".concat(t)},i.a.createElement($a,{points:"0,".concat(l," 0,").concat(a," ").concat(t,",").concat(a," ").concat(t,",").concat(u)}),i.a.createElement(Ga,{points:"0,0 ".concat(c,",").concat(o," ").concat(t,",0")}))},Ka=h.b.svg(Ra()),$a=h.b.polygon(Sa()),Ga=h.b.polygon(Ta()),Ya=function(e){var t=e.interval,n=e.mode,o=Object(Zn.a)(e,["interval","mode"]),c=Object(a.useState)(!1),l=Object(f.a)(c,2),u=l[0],s=l[1],d=Object(a.useState)(!1),p=Object(f.a)(d,2),m=p[0],h=p[1],b=n.lengthToWidth(t.length),v=Object(a.useState)(b),g=Object(f.a)(v,2),y=g[0],x=g[1];Object(a.useEffect)((function(){m||x(n.lengthToWidth(t.length))}),[m,t.length,n]);var O=n.intensityToHeight(t.startIntensity),E=Object(a.useState)(O),j=Object(f.a)(E,2),w=j[0],k=j[1],I=n.intensityToHeight(t.endIntensity),C=Object(a.useState)(I),T=Object(f.a)(C,2),S=T[0],R=T[1];return i.a.createElement(Za,{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},style:o.selected?{zIndex:r.selected}:{},onClick:function(){return o.onClick(t.id)}},(o.selected||u)&&i.a.createElement(la,{interval:t,mode:n,onCadenceChange:function(e){return function(e){o.onChange(Object(z.a)(Object(z.a)({},t),{},{cadence:e}))}(e)}}),i.a.createElement(Pa,{onClick:function(){return o.onClick(t.id)}},i.a.createElement(Ma,{$selected:o.selected,size:{width:y/2,height:w},minWidth:3,minHeight:250*Qt.Z1.min,maxHeight:250*Qt.Z6.max,enable:{top:!0,right:!0},grid:[1,1],onResizeStart:function(){return h(!0)},onResizeStop:function(e,t,n,r){var a;a=r.height,k(w+a),h(!1)},onResize:function(e,r,a,i){return c=i.height,void o.onChange(Object(z.a)(Object(z.a)({},t),{},{startIntensity:n.heightToIntensity(w+c)}));var c}},i.a.createElement(pa,{height:O>I?I:O,cadence:t.cadence,instructions:t.instructions})),i.a.createElement(Ma,{$selected:o.selected,size:{width:y/2,height:S},minWidth:3,minHeight:250*Qt.Z1.min,maxHeight:250*Qt.Z6.max,enable:{top:!0,right:!0},grid:[1,1],onResizeStart:function(){return h(!0)},onResizeStop:function(e,r,a,i){!function(e,r){var a=n.widthToLength(y+e);x(n.lengthToWidth(a)),R(S+r),o.onChange(Object(z.a)(Object(z.a)({},t),{},{length:a}))}(i.width,i.height),h(!1)},onResize:function(e,r,a,i){return c=i.width,l=i.height,void o.onChange(Object(z.a)(Object(z.a)({},t),{},{length:n.widthToLength(y+c,{meters:1,seconds:1}),startIntensity:n.heightToIntensity(w),endIntensity:n.heightToIntensity(S+l)}));var c,l}})),i.a.createElement(Ha,{interval:t,startHeight:O,endHeight:I}),i.a.createElement(Ba,{width:b,startHeight:O,endHeight:I}))},Va=n(274);function Ja(e,t,n){return function(r){return n.fromLength(r.offset)>=e&&n.fromLength(r.offset)<t}}function _a(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n"]);return _a=function(){return e},e}function qa(){var e=Object(d.a)(["\n  position: absolute;\n  margin-top: -30px;\n"]);return qa=function(){return e},e}var Qa=h.b.div(qa()),Xa=h.b.div(_a()),ei=function(e){var t=e.interval,n=Object(Zn.a)(e,["interval"]),r=Object(a.useMemo)((function(){return function(e,t){return Object(Va.a)(0,e.repeat).flatMap((function(n){var r=t.fromLength(e.onLength),a=t.fromLength(e.offLength),i=(r+a)*n;return[at({length:e.onLength,intensity:e.onIntensity,cadence:e.onCadence,pace:e.pace,instructions:e.instructions.filter(Ja(i,i+r,t))},t),at({length:e.offLength,intensity:e.offIntensity,cadence:e.offCadence,pace:e.pace,instructions:e.instructions.filter(Ja(i+r,i+r+a,t))},t)]}))}(t,n.mode)}),[t.repeat,t.instructions]);function o(e){for(var a=r.findIndex((function(t){return t.id===e.id})),i=0;i<r.length;i++)a%2===i%2&&(r[i].length=e.length,r[i].intensity=e.intensity,r[i].cadence=e.cadence);n.onChange(Object(z.a)(Object(z.a)({},t),{},{onCadence:r[0].cadence,offCadence:r[1].cadence,repeat:t.repeat,onLength:r[0].length,offLength:r[1].length,onIntensity:r[0].intensity,offIntensity:r[1].intensity}))}return i.a.createElement("div",null,i.a.createElement(Qa,null,i.a.createElement("button",{onClick:function(){n.onChange(Object(z.a)(Object(z.a)({},t),{},{repeat:t.repeat+1}))}},"+"),i.a.createElement("button",{onClick:function(){t.repeat>1&&n.onChange(Object(z.a)(Object(z.a)({},t),{},{repeat:t.repeat-1}))}},"-")),i.a.createElement(Xa,null,r.map((function(e,a){return c=e,l=0===a||a===r.length-1,i.a.createElement(Ca,{key:c.id,interval:c,mode:n.mode,onChange:o,onClick:function(){return n.onClick(t.id)},selected:n.selected,showTooltip:l});var c,l}))))},ti=n(173),ni=n.n(ti);function ri(){var e=Object(d.a)(["\n  color: gray;\n  &:hover {\n    color: #666;\n  }\n"]);return ri=function(){return e},e}function ai(){var e=Object(d.a)(["\n  display: block;\n  padding: 5px;\n  width: 250px;\n  background-color: white;\n"]);return ai=function(){return e},e}function ii(){var e=Object(d.a)(["\n  font-size: 13px;\n"]);return ii=function(){return e},e}function oi(){var e=Object(d.a)(["\n  position: absolute;\n  top: 30px;\n  left: 0px;\n  right: 0;\n  height: 90vh;\n  width: 1px;\n  border-left: 1px dotted gray;\n"]);return oi=function(){return e},e}function ci(){var e=Object(d.a)(["\n  position: relative;\n  padding: 5px;\n"]);return ci=function(){return e},e}function li(){var e=Object(d.a)(["\n  display: block;\n  opacity: 0.7;\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return li=function(){return e},e}function ui(){var e=Object(d.a)(["\n  position: absolute;\n"]);return ui=function(){return e},e}var si={meters:10,seconds:5},di=h.b.div(ui()),fi=Object(h.b)(p.a).attrs((function(){return{icon:m.g,size:"lg",fixedWidth:!0,className:"handle"}}))(li()),pi=h.b.div(ci()),mi=h.b.div(oi()),hi=h.b.span(ii()),bi=h.b.textarea(ai()),vi=Object(h.b)(p.a).attrs((function(){return{icon:m.p,fixedWidth:!0}}))(ri()),gi=function(e){var t=Object(a.useState)(e.instruction.text),n=Object(f.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(e.mode.lengthToWidth(e.instruction.offset)),l=Object(f.a)(c,2),u=l[0],s=l[1],d=Object(a.useState)(!1),p=Object(f.a)(d,2),m=p[0],h=p[1];var b;return i.a.createElement(ni.a,{axis:"x",handle:".handle",defaultPosition:{x:u,y:e.index%5*20},bounds:{left:0,right:e.width},scale:1,onStop:function(t,n){return a=n.x,void e.onChange({id:e.instruction.id,text:r,offset:e.mode.widthToLength(a,si)});var a},onDrag:function(e,t){return n=t.x,h(!1),void s(n);var n}},i.a.createElement(di,null,i.a.createElement(fi,{onMouseDown:function(){return h(!m)}}),m&&i.a.createElement(pi,null,i.a.createElement(vi,{onClick:function(){(""===r||window.confirm("Are you sure you want to delete this comment?"))&&e.onDelete(e.instruction.id)}}),i.a.createElement(hi,null,(b=e.instruction.offset,Xe(b)?xt(b):"".concat(b.meters," m"))),i.a.createElement(bi,{value:r,onChange:function(t){return n=t.target.value,o(n),void e.onChange({id:e.instruction.id,text:n,offset:e.mode.widthToLength(u,si)});var n}})),i.a.createElement(mi,null)))};function yi(){var e=Object(d.a)(["\n  position: absolute;\n  top: 80px;\n  z-index: ",";\n"]);return yi=function(){return e},e}var xi=function(e){var t=e.instructions,n=e.mode,r=e.width,a=e.onChange,o=e.onDelete;return i.a.createElement(Oi,null,t.map((function(e,t){return i.a.createElement(gi,{key:e.id,instruction:e,width:r,onChange:a,onDelete:o,index:t,mode:n})})))},Oi=h.b.div(yi(),r.selected),Ei=function(e){var t=e.interval,n=e.mode,r=e.selected,a=e.onChange,o=e.onClick;switch(t.type){case"steady":return i.a.createElement(Ca,{interval:t,mode:n,onChange:a,onClick:o,selected:r,showTooltip:!0});case"ramp":return i.a.createElement(Ya,{interval:t,mode:n,onChange:a,onClick:o,selected:r});case"free":return i.a.createElement(Ea,{interval:t,mode:n,onChange:a,onClick:o,selected:r});case"repetition":return i.a.createElement(ei,{interval:t,mode:n,onChange:a,onClick:o,selected:r})}},ji=function(e){return i.a.createElement("div",null,i.a.createElement(Ei,e),e.selected&&i.a.createElement(xi,{instructions:e.interval.instructions,mode:e.mode,width:e.mode.lengthToWidth(e.mode.intervalLength(e.interval)),onChange:function(t){return e.onInstructionChange({intervalId:e.interval.id,instruction:t})},onDelete:function(t){return e.onInstructionDelete({intervalId:e.interval.id,instructionId:t})}}))};function wi(){var e=Object(d.a)(['\n  position: relative;\n  display: inline-block;\n  margin-top: 20px;\n  padding: 0;\n\n  &::before {\n    content: "";\n    position: absolute;\n    width: 1px;\n    height: 10px;\n    top: -20px;\n    left: 0;\n    background-color: gray;\n  }\n']);return wi=function(){return e},e}function ki(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 0px;\n  border-top: 1px solid gray;\n  overflow: hidden;\n  min-width: 1320px;\n  width: ","px;\n"]);return ki=function(){return e},e}var Ii=h.b.div(ki(),(function(e){return e.width})),Ci=h.b.span(wi());function Ti(){var e=Object(d.a)(["\n  width: 200px;\n"]);return Ti=function(){return e},e}var Si=Object(h.b)(Ci)(Ti()),Ri=function(e){var t,n=e.width;return i.a.createElement(Ii,{width:n},(t=6,Object(W.a)(new Array(t)).flatMap((function(e,t){return["00","10","20","30","40","50"].map((function(e){return"".concat(t,":").concat(e)}))}))).map((function(e){return i.a.createElement(Si,{key:e},e)})))};function Li(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: ","px;\n\n  /* Zone 6 has no upper bound */\n  &:not(:first-child) {\n    border-top: 1px solid gray;\n  }\n"]);return Li=function(){return e},e}function Fi(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 50px;\n  left: 2px;\n  color: gray;\n"]);return Fi=function(){return e},e}var Wi=h.b.div(Fi()),zi=h.b.div(Li(),(function(e){return 250*e.zone.max})),Di=function(){return i.a.createElement(Wi,null,Object.entries(Qt).reverse().map((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return i.a.createElement(zi,{key:n,zone:r},n)})))};function Zi(){var e=Object(d.a)(["\n  width: 100px;\n"]);return Zi=function(){return e},e}var Pi=Object(h.b)(Ci)(Zi()),Mi=function(e){var t=e.width;return i.a.createElement(Ii,{width:t},Object(W.a)(new Array(44)).map((function(e,t){return i.a.createElement(Pi,{key:t},t,"K")})))};function Hi(){var e=Object(d.a)(["\n  font-size: 16px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 10px;\n  border-radius: 5px;\n"]);return Hi=function(){return e},e}var Ai=h.b.select(Hi()),Ni=function(e){var t=e.value,n=e.onChange;return i.a.createElement(Ai,{name:"pace",value:t,onChange:function(e){return n(parseInt(e.target.value))}},i.a.createElement("option",{value:"0"},"1 Mile Pace"),i.a.createElement("option",{value:"1"},"5K Pace"),i.a.createElement("option",{value:"2"},"10K Pace"),i.a.createElement("option",{value:"3"},"Half Marathon Pace"),i.a.createElement("option",{value:"4"},"Marathon Pace"))};function Ui(){var e=Object(d.a)(["\n  padding: 20px;\n  margin: 0 5px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  border: 0;\n  border-radius: 50%;\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.8);\n  }\n"]);return Ui=function(){return e},e}var Bi=h.b.button(Ui()),Ki=function(e){var t=e.title,n=e.icon,r=e.onClick;return i.a.createElement(Bi,{onClick:r,title:t},i.a.createElement(p.a,{icon:n,size:"lg",fixedWidth:!0}))};function $i(e,t){return Object(z.a)({id:Object(Je.a)(),text:"",offset:"time"===t.lengthType?qe(0):_e(0)},e)}function Gi(){var e=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n\n  display: flex;\n  justify-content: center;\n  padding: 5px;\n  z-index: ",";\n"]);return Gi=function(){return e},e}var Yi={setSelectedIntervalPace:Ln,removeSelectedInterval:In,duplicateSelectedInterval:Cn,moveSelectedInterval:Rn,addInstruction:kn},Vi=h.b.div(Gi(),r.selected),Ji=Object(l.b)((function(e){return{mode:mn(e),sportType:ee(e),selectedIntervalPace:zn(e),selectedIntervalId:Dn(e)}}),Yi)((function(e){var t=e.mode,n=e.sportType,r=e.selectedIntervalPace,a=e.selectedIntervalId,o=e.setSelectedIntervalPace,c=e.removeSelectedInterval,l=e.duplicateSelectedInterval,u=e.moveSelectedInterval,s=e.addInstruction;return i.a.createElement(Vi,null,i.a.createElement(Ki,{title:"Move Left",icon:m.a,onClick:function(){return u(-1)}}),i.a.createElement(Ki,{title:"Move Right",icon:m.b,onClick:function(){return u(1)}}),i.a.createElement(Ki,{title:"Delete",icon:m.o,onClick:c}),i.a.createElement(Ki,{title:"Duplicate",icon:m.h,onClick:l}),i.a.createElement(Ki,{title:"Add text event",icon:m.g,onClick:function(){a&&s({intervalId:a,instruction:$i({},t)})}}),"run"===n&&i.a.createElement(Ni,{value:r,onChange:o}))})),_i=n(174);function qi(){var e=Object(d.a)(["\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.9);\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 50000px;\n  height: 100%;\n  z-index: ",";\n"]);return qi=function(){return e},e}function Qi(){var e=Object(d.a)(["\n  position: absolute;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  bottom: 0px;\n  top: 0px;\n  padding-bottom: 40px;\n  margin-right: 100px;\n"]);return Qi=function(){return e},e}function Xi(){var e=Object(d.a)(["\n  position: absolute;\n  width: 100%;\n  max-width: 1320px;\n  height: 100%;\n  overflow-y: hidden;\n  overflow-x: visible;\n  bottom: 10px;\n"]);return Xi=function(){return e},e}function eo(){var e=Object(d.a)(["\n  flex: 1;\n  position: relative;\n  white-space: nowrap;\n  background-color: white;\n\n  padding: 0px 40px;\n  margin: 10px auto;\n  overflow-x: hidden;\n  width: 100%;\n  max-width: 1280px;\n  -webkit-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  -moz-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  border-radius: 5px;\n"]);return eo=function(){return e},e}var to={updateInterval:On,setSelectedId:dn,clearSelection:fn,updateInstruction:wn,removeInstruction:jn},no=h.b.div(eo()),ro=h.b.div(Xi()),ao=h.b.div(Qi()),io=h.b.div(qi(),r.fader),oo=Object(l.b)((function(e){return{lengthType:te(e),intervals:Fn(e),mode:mn(e),selectedId:pn(e)}}),to)((function(e){var t=e.lengthType,n=e.intervals,r=e.mode,o=e.selectedId,c=e.updateInterval,l=e.setSelectedId,u=e.clearSelection,s=e.updateInstruction,d=e.removeInstruction,p=Object(a.useRef)(null),m=Object(a.useRef)(null),h=Object(a.useState)(1320),b=Object(f.a)(h,2),v=b[0],g=b[1];function y(e){e===o?u():l(e)}return Object(a.useEffect)(Object(_i.debounce)((function(){var e,t,n=(null===(e=p.current)||void 0===e?void 0:e.scrollWidth)||0,r=(null===(t=m.current)||void 0===t?void 0:t.scrollWidth)||0;g(n<r?r:n)}),200),[p,m,n]),i.a.createElement(no,null,o&&i.a.createElement(Ji,null),i.a.createElement(ro,{ref:m},o&&i.a.createElement(io,{style:{width:v},onClick:u}),i.a.createElement(ao,{ref:p},n.map((function(e){return i.a.createElement(ji,{key:e.id,interval:e,mode:r,onChange:c,onClick:y,onInstructionChange:s,onInstructionDelete:d,selected:e.id===o})}))),"time"===t?i.a.createElement(Ri,{width:v}):i.a.createElement(Mi,{width:v})),i.a.createElement(Di,null))}));function co(){var e=Object(d.a)(["\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n"]);return co=function(){return e},e}function lo(){var e=Object(d.a)(["\n  margin: 0 auto;\n  text-align: left;\n  max-width: 1360px;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n"]);return lo=function(){return e},e}function uo(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n  margin: 0px;\n  background-color: #eaeaea;\n  overflow-x: hidden;\n"]);return uo=function(){return e},e}var so={setSportType:Y,setLengthType:V,setRunningTimes:Yt,setIntervals:yn,adjustSelectedIntervalIntensity:Tn,adjustSelectedIntervalLength:Sn,updateInterval:On,setSelectedId:dn,clearSelection:fn,removeSelectedInterval:In},fo=Object(h.b)(Ve)(uo()),po=h.b.div(lo()),mo=h.b.div(co()),ho=Object(l.b)((function(e){return{name:_(e),author:q(e),description:Q(e),sportType:ee(e),lengthType:te(e),ftp:Jt(e),runningTimes:qt(e),intervals:Fn(e),mode:mn(e)}}),so)((function(e){var t=e.name,n=e.author,r=e.description,o=e.sportType,c=e.lengthType,l=e.ftp,u=e.runningTimes,s=e.intervals,d=e.mode,p=e.setSportType,h=e.setLengthType,b=e.setRunningTimes,v=e.setIntervals,g=e.adjustSelectedIntervalIntensity,y=e.adjustSelectedIntervalLength,x=e.removeSelectedInterval,O=Object(a.useState)(!1),j=Object(f.a)(O,2),w=j[0],k=j[1],I=function(){return 0===s.length};function C(e){return"time"===d.lengthType?qe(5*e):_e(200*e)}return i.a.createElement(fo,{onBackspacePress:x,onUpPress:function(){return g(.01)},onDownPress:function(){return g(-.01)},onLeftPress:function(){return y(C(-1))},onRightPress:function(){return y(C(1))}},i.a.createElement(Ee,{name:t,description:r}),w&&i.a.createElement(E,{width:"500px",onClose:function(){return k(!1)}},i.a.createElement(xe,null)),i.a.createElement(po,null,i.a.createElement(Nt,{name:t,author:n,description:r,onClick:function(){return k(!0)}}),i.a.createElement(mo,null,i.a.createElement(Lt,{intervals:s,ftp:l,mode:d}),"run"===o&&i.a.createElement(Ye,{label:"Duration Type",leftValue:"time",rightValue:"distance",leftIcon:m.f,rightIcon:m.l,selected:c,onChange:function(e){(I()||window.confirm("Switching from ".concat(c," to ").concat(e," will clear current workout. Are you sure?")))&&(v([]),h(e))}}),i.a.createElement(Ye,{label:"Sport Type",leftValue:"bike",rightValue:"run",leftIcon:m.d,rightIcon:m.m,selected:o,onChange:function(e){(I()||window.confirm("Switching from ".concat(o," to ").concat(e," will clear current workout. Are you sure?")))&&(v([]),p(e))}}))),"run"===o&&i.a.createElement(We,{times:u,onChange:b}),i.a.createElement(oo,null),i.a.createElement($r,null),i.a.createElement(T,null))}));function bo(){return i.a.createElement(u.a,null,i.a.createElement(s.c,null,i.a.createElement(s.a,{path:"/"},i.a.createElement(ho,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vo=n(80),go=n(175),yo=n.n(go),xo=Object(vo.a)({key:"root",storage:yo.a},{meta:N,athlete:Bt,intervals:vn,selectedId:un}),Oo=Object(D.a)({reducer:xo});Object(vo.b)(Oo);c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(l.a,{store:Oo},i.a.createElement(bo,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,n){e.exports=n.p+"static/media/cadence.b638b56b.png"}},[[178,1,2]]]);
//# sourceMappingURL=main.df1ff800.chunk.js.map