(this["webpackJsonpzwo-editor"]=this["webpackJsonpzwo-editor"]||[]).push([[0],{171:function(e,t,n){e.exports=n.p+"static/media/freeride.d3e319d6.svg"},176:function(e,t,n){e.exports=n(266)},185:function(e,t,n){},236:function(e,t){},238:function(e,t){},266:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(5),o=n.n(i),c=n(23),l=(n(185),n(175)),u=n(12),s=n(2),d=n(7),f=n(14),p=n(6),m=n(3);function h(){var e=Object(s.a)(["\n  background-color: rgba(0, 0, 0, 0);\n  border: 0;\n  float: right;\n  color: white;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  color: black;\n"]);return h=function(){return e},e}function b(){var e=Object(s.a)(["\n  position: fixed;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  padding: 10px;\n\n  align-self: center;\n  margin: 0 auto;\n  background-color: white;\n  border-radius: 5px;\n\n  box-shadow: -5px 1px 51px 0px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: -5px 1px 51px 0px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: -5px 1px 51px 0px rgba(0, 0, 0, 0.75);\n\n  overflow-y: scroll;\n"]);return b=function(){return e},e}function v(){var e=Object(s.a)(["\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1000;\n"]);return v=function(){return e},e}var g=m.b.div(v()),y=m.b.div(b()),O=m.b.button(h()),x=function(e){return a.a.createElement(g,null,a.a.createElement(y,{style:{width:e.width,height:e.height}},a.a.createElement(O,{onClick:e.onClose},a.a.createElement(f.a,{icon:p.n,size:"lg",fixedWidth:!0})),e.children))},E="https://github.com/nene/zwo-editor";function j(){var e=Object(s.a)(["\n  text-decoration: none;\n  color: #00c46a;\n"]);return j=function(){return e},e}function w(){var e=Object(s.a)(["\n  display: inline;\n  padding: 0 10px;\n  margin: 0;\n"]);return w=function(){return e},e}function k(){var e=Object(s.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]);return k=function(){return e},e}function I(){var e=Object(s.a)(["\n  padding: 10px;\n  font-size: 12px;\n  text-align: center;\n  background-color: black;\n  color: white;\n"]);return I=function(){return e},e}function C(){return a.a.createElement(T,null,a.a.createElement(S,null,a.a.createElement(R,null,"Zwift Workout v2.0 (",a.a.createElement(F,{href:"".concat(E,"/blob/master/LICENSE.md"),target:"blank"},"open source / MIT license"),")"),a.a.createElement(R,null,a.a.createElement(F,{href:"".concat(E,"/issues"),target:"blank"},"Report an issue"))))}var T=m.b.div(I()),S=m.b.ul(k()),R=m.b.li(w()),F=m.b.a(j()),W=n(24),L=n(4),z=n(11),D=n(76),Z=Object(z.b)("workout/clearWorkout"),P=Object(z.b)("workout/loadWorkout"),M={name:"Untitled workout",author:"",description:"",tags:[],sportType:"bike",lengthType:"time"},H=Object(z.d)({name:"meta",initialState:M,reducers:{setName:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{name:t.payload})},setAuthor:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{author:t.payload})},setDescription:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{description:t.payload})},setTags:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{tags:t.payload})},setSportType:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{sportType:t.payload})},setLengthType:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{lengthType:t.payload})}},extraReducers:function(e){e.addCase(Z,(function(e){return Object(L.a)(Object(L.a)({},e),{},{name:"Untitled workout",author:"",description:"",tags:[]})})).addCase(P,(function(e,t){var n=t.payload;return{name:n.name,author:n.author,description:n.description,tags:n.tags,sportType:n.sportType,lengthType:n.lengthType}}))}}),A=H.reducer,N=H.actions,U=N.setName,B=N.setAuthor,K=N.setDescription,G=N.setTags,Y=N.setSportType,V=N.setLengthType,J=function(e){return e.meta},_=Object(D.a)(J,(function(e){return e.name})),q=Object(D.a)(J,(function(e){return e.author})),$=Object(D.a)(J,(function(e){return e.description})),Q=Object(D.a)(J,(function(e){return e.tags})),X=Object(D.a)(J,(function(e){return e.sportType})),ee=Object(D.a)(J,(function(e){return e.lengthType}));function te(){var e=Object(s.a)(["\n  font-size: 10px;\n  text-align: center;\n  padding: 5px;\n"]);return te=function(){return e},e}var ne=m.b.label(te());function re(){var e=Object(s.a)(["\n  font-size: 16px;\n  color: gray;\n"]);return re=function(){return e},e}function ae(){var e=Object(s.a)(["\n  display: inline-block;\n  padding: 10px 10px 10px 0;\n"]);return ae=function(){return e},e}var ie=m.b.div(ae()),oe=Object(m.b)(ne)(re()),ce=function(e){return a.a.createElement(ie,null,a.a.createElement(oe,null,a.a.createElement("input",{type:"checkbox",name:e.label,checked:e.isSelected,onChange:function(t){return e.onCheckboxChange()},className:"form-check-input"}),e.label))};function le(){var e=Object(s.a)(["\n  display: block;\n  width: 100%;\n  padding: 10px;\n  margin-top: 10px;\n\n  font-size: 16px;\n  border: 1px solid #aaa;\n  border-radius: 5px;\n  box-sizing: border-box;\n"]);return le=function(){return e},e}function ue(){var e=Object(s.a)(["\n  font-size: 14px;\n  color: gray;\n  display: block;\n  text-align: left;\n"]);return ue=function(){return e},e}function se(){var e=Object(s.a)(["\n  margin: 10px 0;\n  width: 100%;\n"]);return se=function(){return e},e}function de(){var e=Object(s.a)(["\n  font-size: 34px;\n  font-weight: 200;\n  margin: 0;\n  text-transform: uppercase;\n"]);return de=function(){return e},e}var fe=["Recovery","Intervals","FTP","TT"],pe={setName:U,setAuthor:B,setDescription:K,setTags:G};var me,he=m.b.h2(de()),be=m.b.div(se()),ve=Object(m.b)(ne)(ue()),ge=m.b.input(le()),ye=Object(c.b)((function(e){return{name:_(e),author:q(e),description:$(e),tags:Q(e)}}),pe)((function(e){return a.a.createElement("div",null,a.a.createElement(he,null,"Workout metadata"),a.a.createElement(be,null,a.a.createElement(ve,{htmlFor:"name"},"Workout Title"),a.a.createElement(ge,{type:"text",id:"name",placeholder:"Workout title",value:e.name,onChange:function(t){return e.setName(t.target.value)}})),a.a.createElement(be,null,a.a.createElement(ve,{htmlFor:"description"},"Workout description"),a.a.createElement(ge,{as:"textarea",id:"description",placeholder:"Workout description",value:e.description,onChange:function(t){return e.setDescription(t.target.value)}})),a.a.createElement(be,null,a.a.createElement(ve,{htmlFor:"author"},"Workout Author"),a.a.createElement(ge,{type:"text",id:"author",placeholder:"Workout Author",value:e.author,onChange:function(t){return e.setAuthor(t.target.value)}})),a.a.createElement(be,null,a.a.createElement(ve,null,"Workout Tags"),fe.map((function(t){return a.a.createElement(ce,{key:t,label:t,isSelected:e.tags.includes(t),onCheckboxChange:function(){return e.setTags(function(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(W.a)(e),[t])}(e.tags,t))}})}))))})),Oe=n(162),xe=function(e){var t=e.name,n=e.description;return a.a.createElement(Oe.a,null,a.a.createElement("title",null,t?"".concat(t," - Zwift Workout Editor"):"My Workout - Zwift Workout Editor"),a.a.createElement("meta",{name:"description",content:n}))},Ee=n(174),je=(n(229),n(39)),we=n.n(je);!function(e){e[e.oneMile=0]="oneMile",e[e.fiveKm=1]="fiveKm",e[e.tenKm=2]="tenKm",e[e.halfMarathon=3]="halfMarathon",e[e.marathon=4]="marathon"}(me||(me={}));var ke=[1609.34,5e3,1e4,21097.5,42195];function Ie(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ie=function(){return e},e}var Ce=m.b.div(Ie());function Te(){var e=Object(s.a)(["\n  width: 120px;\n\n  & > input {\n    font-size: 18px;\n    font-family: monospace;\n    color: black;\n  }\n"]);return Te=function(){return e},e}function Se(){var e=Object(s.a)(["\n  .rc-time-picker-panel-input {\n    font-size: 18px;  \n    font-family: monospace;\n  }\n\n  .rc-time-picker-panel-select > ul > li {\n    font-size: 16px;  \n    font-family: monospace;\n  }\n"]);return Se=function(){return e},e}function Re(){var e=Object(s.a)(["\n  padding-right: 10px;\n  align-self: flex-end;\n"]);return Re=function(){return e},e}function Fe(){var e=Object(s.a)(["\n  display: flex;\n  margin: 0 auto;\n  flex-direction: row;\n  width: 100%;\n  max-width: 1360px;\n"]);return Fe=function(){return e},e}function We(e){var t=e.times,n=e.onChange,i=Object(r.useCallback)((function(){n(function(e){var t=[].concat(Object(W.a)(ke),[1609.34]),n=[].concat(Object(W.a)(e),[680]),r=[];return e.forEach((function(e,a){if(e)r[a]=e;else for(var i=0;i<n.length;i++)if(n[i]){r[a]=n[i]*(t[a]/t[i])*1.06;break}})),r}(t))}),[t,n]),o=function(e,r){var a=Object(W.a)(t);a[e]=r,n(a)};return a.a.createElement(Le,null,a.a.createElement(De,{time:t[me.oneMile],onChange:function(e){return o(me.oneMile,e)}},"1 mile time"),a.a.createElement(De,{time:t[me.fiveKm],onChange:function(e){return o(me.fiveKm,e)}},"5 km time"),a.a.createElement(De,{time:t[me.tenKm],onChange:function(e){return o(me.tenKm,e)}},"10 km time"),a.a.createElement(De,{time:t[me.halfMarathon],onChange:function(e){return o(me.halfMarathon,e)}},"Half marathon time"),a.a.createElement(De,{time:t[me.marathon],onChange:function(e){return o(me.marathon,e)}},"Marathon time"),a.a.createElement(ze,null,a.a.createElement("button",{onClick:i,className:"btn"},"Estimate missing times")))}var Le=m.b.div(Fe()),ze=Object(m.b)(Ce)(Re()),De=function(e){var t=e.time,n=e.onChange,r=e.children;return a.a.createElement(ze,null,a.a.createElement(ne,null,a.a.createElement("abbr",{title:"hh:mm:ss"},r)),a.a.createElement(Ze,null),a.a.createElement(Pe,{value:0===t?void 0:we.a.utc(1e3*t),placeholder:"00:00:00",defaultOpenValue:we()("00:00:00"),onChange:function(e){return n(e?we.a.duration(e.format("HH:mm:ss")).asSeconds():0)}}))},Ze=Object(m.a)(Se()),Pe=Object(m.b)(Ee.a)(Te());var Me=n(168),He=n.n(Me);function Ae(){var e=Object(s.a)(["\n  padding: 5px;\n  color: ",";\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  color: lightgray;\n"]);return Ne=function(){return e},e}function Ue(){var e=Object(s.a)(["\n  max-width: 120px;\n  padding: 0 10px;\n"]);return Ue=function(){return e},e}var Be=Object(m.b)(Ce)(Ue()),Ke=m.b.div(Ne()),Ge=Object(m.b)(f.a)(Ae(),(function(e){return e.active?"#00C46A":"inherit"})),Ye=function(e){var t=e.label,n=e.leftValue,r=e.rightValue,i=e.leftIcon,o=e.rightIcon,c=e.selected,l=e.onChange;return a.a.createElement(Be,null,a.a.createElement(ne,null,t),a.a.createElement(Ke,null,a.a.createElement(Ge,{active:c===n,icon:i,size:"lg",fixedWidth:!0}),a.a.createElement(He.a,{onChange:function(){return l(c===n?r:n)},checked:c===r,checkedIcon:!1,uncheckedIcon:!1,onColor:"#00C46A",offColor:"#00C46A"}),a.a.createElement(Ge,{active:c===r,icon:o,size:"lg",fixedWidth:!0})))},Ve=function(e){return a.a.createElement("div",{className:e.className,onKeyDown:function(t){if(!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement))switch(t.keyCode){case 8:e.onBackspacePress(),t.preventDefault();break;case 37:e.onLeftPress();break;case 39:e.onRightPress();break;case 38:e.onUpPress();break;case 40:e.onDownPress()}},tabIndex:0},e.children)},Je=n(271),_e=n(34),qe=function e(t){Object(_e.a)(this,e),this.seconds=t},$e=function e(t){Object(_e.a)(this,e),this.meters=t},Qe=new qe(300),Xe=new $e(1e3),et=me.oneMile,tt=function(e){return"time"===e.lengthType?Qe:Xe},nt=function(e,t){return Object(L.a)({type:"steady",id:Object(Je.a)(),length:tt(t),intensity:1,cadence:0,pace:et},e)},rt=function(e,t){return Object(L.a)({type:"ramp",id:Object(Je.a)(),length:tt(t),startIntensity:.5,endIntensity:1,cadence:0,pace:et},e)},at=function(e,t){return Object(L.a)({type:"free",id:Object(Je.a)(),length:tt(t),cadence:0},e)},it=function(e,t){return Object(L.a)({type:"repetition",id:Object(Je.a)(),onCadence:0,offCadence:0,repeat:3,onLength:"time"===t.lengthType?new qe(30):new $e(200),offLength:"time"===t.lengthType?new qe(120):new $e(200),onIntensity:1,offIntensity:.5,pace:et},e)},ot=function(e){return Object(L.a)(Object(L.a)({},e),{},{id:Object(Je.a)()})},ct=n(56),lt=n(81),ut=n(80);function st(e,t){return Math.floor(e/t)*t}var dt=function(){function e(){Object(_e.a)(this,e),this.sportType=void 0,this.lengthType=void 0}return Object(ct.a)(e,[{key:"lengthToWidth",value:function(e){return e instanceof qe?e.seconds/3:e.meters/10}},{key:"widthToLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{meters:200,seconds:5};return"time"===this.lengthType?new qe(st(3*e,t.seconds)):new $e(st(10*e,t.meters))}},{key:"intensityToHeight",value:function(e){return 250*e}},{key:"heightToIntensity",value:function(e){return e/250}}]),e}(),ft=function(e){Object(lt.a)(n,e);var t=Object(ut.a)(n);function n(e,r){var a;return Object(_e.a)(this,n),(a=t.call(this)).ftp=void 0,a.weight=void 0,a.sportType="bike",a.lengthType="time",a.ftp=e,a.weight=r,a}return Object(ct.a)(n,[{key:"power",value:function(e){return e*this.ftp}},{key:"wkg",value:function(e){return this.power(e)/this.weight}},{key:"duration",value:function(e){if(e instanceof qe)return e;throw new Error("Unexpected length:Distance encountered in BikeMode")}},{key:"intervalDuration",value:function(e){switch(e.type){case"free":case"steady":case"ramp":return this.duration(e.length);case"repetition":var t=this.duration(e.onLength),n=this.duration(e.offLength);return new qe(e.repeat*(t.seconds+n.seconds))}}}]),n}(dt),pt=function(e){Object(lt.a)(n,e);var t=Object(ut.a)(n);function n(e,r){var a;return Object(_e.a)(this,n),(a=t.call(this)).runningTimes=void 0,a.sportType="run",a.lengthType=void 0,a.runningTimes=e,a.lengthType=r,a}return Object(ct.a)(n,[{key:"speed",value:function(e,t){return ke[t]/this.runningTimes[t]*e}},{key:"distance",value:function(e,t,n){return e instanceof qe?new $e(this.speed(t,n)*e.seconds):e}},{key:"duration",value:function(e,t,n){return e instanceof qe?e:new qe(e.meters/this.speed(t,n))}},{key:"intervalDistance",value:function(e){switch(e.type){case"free":return e.length instanceof $e?e.length:new $e(0);case"steady":return this.distance(e.length,e.intensity,e.pace);case"ramp":return this.distance(e.length,(e.startIntensity+e.endIntensity)/2,e.pace);case"repetition":var t=this.distance(e.onLength,e.onIntensity,e.pace),n=this.distance(e.offLength,e.offIntensity,e.pace);return new $e(e.repeat*(t.meters+n.meters))}}},{key:"intervalDuration",value:function(e){switch(e.type){case"free":return e.length instanceof qe?e.length:new qe(0);case"steady":return this.duration(e.length,e.intensity,e.pace);case"ramp":return this.duration(e.length,(e.startIntensity+e.endIntensity)/2,e.pace);case"repetition":var t=this.duration(e.onLength,e.onIntensity,e.pace),n=this.duration(e.offLength,e.offIntensity,e.pace);return new qe(e.repeat*(t.seconds+n.seconds))}}}]),n}(dt),mt=n(269);function ht(e,t){return new $e(Object(mt.a)(e.map((function(e){return t.intervalDistance(e)})).map((function(e){return e.meters}))))}function bt(e,t){return new qe(Object(mt.a)(e.map((function(e){return t.intervalDuration(e)})).map((function(e){return e.seconds}))))}n(141);var vt=function(e){return we.a.duration(e.seconds,"seconds").format("mm:ss",{trim:!1})},gt=function(e){return Math.round(e.meters)+" m"},yt=function(e){return Math.round(e)+" W"},Ot=function(e){return Math.round(100*e)+"%"},xt=function(e){return["1M","5K","10K","HM","M"][e]+" pace"},Et=function(e){if(0===e)return"";var t=1e3/e;return we.a.duration(t,"seconds").format("m:ss")+"/km"};function jt(){var e=Object(s.a)(["\n  font-size: 20px;\n  border: 1px solid lightgray;\n  text-align: center;\n"]);return jt=function(){return e},e}function wt(){var e=Object(s.a)(["\n  max-width: 120px;\n  padding: 0 10px;\n"]);return wt=function(){return e},e}var kt=Object(m.b)(Ce)(wt()),It=m.b.input(jt());function Ct(e,t,n){var r=0;return e.map((function(e){if("steady"===e.type&&e.intensity){var a=e.intensity*t,i=e.intensity;r+=n.intervalDuration(e).seconds*a*i}if("ramp"===e.type&&e.startIntensity&&e.endIntensity){var o=(e.startIntensity+e.endIntensity)/2*t,c=(e.startIntensity+e.endIntensity)/2;r+=n.intervalDuration(e).seconds*o*c}if("repetition"===e.type&&e.onIntensity&&e.offIntensity&&e.repeat&&e.onLength&&e.offLength){var l=e.onIntensity*t,u=e.onIntensity,s=n.intervalDuration(nt({length:e.onLength,intensity:e.onIntensity},n));r+=s.seconds*e.repeat*l*u;var d=e.offIntensity*t,f=e.offIntensity,p=n.intervalDuration(nt({length:e.offLength,intensity:e.offIntensity},n));r+=p.seconds*e.repeat*d*f}return!1})),(r/(3600*t)*100).toFixed(0)}var Tt=function(e){var t=e.intervals,n=e.ftp,r=e.mode;return a.a.createElement(a.a.Fragment,null,a.a.createElement(kt,null,a.a.createElement(ne,null,"Workout Time"),a.a.createElement(It,{value:vt(bt(t,r)),disabled:!0})),r instanceof pt&&a.a.createElement(kt,null,a.a.createElement(ne,null,"Workout Distance"),a.a.createElement(It,{value:gt(ht(t,r)),disabled:!0})),r instanceof ft&&a.a.createElement(kt,null,a.a.createElement(ne,null,"TSS"),a.a.createElement(It,{value:Ct(t,n,r),disabled:!0})))};function St(){var e=Object(s.a)(["\n  font-style: italic;\n  margin: 10px 0 0 0;\n"]);return St=function(){return e},e}function Rt(){var e=Object(s.a)(["\n  margin-left: 10px;\n  font-size: 21px;\n  color: gray;\n"]);return Rt=function(){return e},e}function Ft(){var e=Object(s.a)(["\n  padding: 10px 0;\n  margin: 0;\n"]);return Ft=function(){return e},e}function Wt(){var e=Object(s.a)(["\n  flex: 1;\n  cursor: pointer;\n"]);return Wt=function(){return e},e}var Lt=m.b.div(Wt()),zt=m.b.h1(Ft()),Dt=Object(m.b)(f.a)(Rt()),Zt=m.b.p(St()),Pt=function(e){var t=e.name,n=e.author,r=e.description,i=e.onClick;return a.a.createElement(Lt,{onClick:i},a.a.createElement(zt,null,t," ",a.a.createElement(Dt,{icon:p.j})),a.a.createElement("div",null,r),a.a.createElement(Zt,null,n?"by ".concat(n):""))},Mt=Object(z.d)({name:"athlete",initialState:{ftp:200,weight:75,runningTimes:[0,0,0,0,0]},reducers:{setFtp:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{ftp:t.payload})},setWeight:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{weight:t.payload})},setRunningTimes:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{runningTimes:t.payload})}}}),Ht=Mt.reducer,At=Mt.actions,Nt=At.setFtp,Ut=At.setWeight,Bt=At.setRunningTimes,Kt=function(e){return e.athlete},Gt=Object(D.a)(Kt,(function(e){return e.ftp})),Yt=Object(D.a)(Kt,(function(e){return e.weight})),Vt=Object(D.a)(Kt,(function(e){return e.runningTimes})),Jt=n(57);function _t(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Object(d.a)(n[t],2),a=r[0],i=r[1];"object"===typeof i&&"number"===typeof i.seconds?e[a]=new qe(i.seconds):"object"===typeof i&&"number"===typeof i.meters&&(e[a]=new $e(i.meters))}return e}function qt(e){return e instanceof Array?e.map(_t):[]}var $t,Qt=Object(z.b)(Jt.a);!function(e){e.GRAY="#807F80",e.BLUE="#0E90D4",e.GREEN="#00C46A",e.YELLOW="#FFCB00",e.ORANGE="#FF6430",e.RED="#E90000",e.WHITE="#FFFFFF"}($t||($t={}));var Xt={Z1:{min:.1,max:.605},Z2:{min:.605,max:.763},Z3:{min:.763,max:.901},Z4:{min:.901,max:1.053},Z5:{min:1.053,max:1.194},Z6:{min:1.194,max:2}},en=[[Xt.Z1.min,Xt.Z1.max],[Xt.Z2.min,Xt.Z2.max],[Xt.Z3.min,Xt.Z3.max],[Xt.Z4.min,Xt.Z4.max],[Xt.Z5.min,Xt.Z5.max],[Xt.Z6.min,Xt.Z6.max]],tn=function(e){return e<Xt.Z1.max?$t.GRAY:e<Xt.Z2.max?$t.BLUE:e<Xt.Z3.max?$t.GREEN:e<Xt.Z4.max?$t.YELLOW:e<Xt.Z5.max?$t.ORANGE:$t.RED},nn=n(268),rn=n(270),an=n(267);function on(e,t,n){var r=n.findIndex(Object(nn.a)("id",e));return-1===r?n:Object(rn.a)(r,t(n[r]),n)}function cn(e,t){var n=t.findIndex(Object(nn.a)("id",e.id));return-1===n?t:Object(rn.a)(n,e,t)}var ln=Object(z.d)({name:"selectedId",initialState:null,reducers:{setSelectedId:function(e,t){return t.payload},clearSelection:function(){return null}}}),un=ln.reducer,sn=ln.actions,dn=sn.setSelectedId,fn=sn.clearSelection,pn=function(e){return e.selectedId||void 0};var mn=Object(D.a)(X,Gt,Yt,Vt,ee,(function(e,t,n,r,a){return function(e){var t=e.sportType,n=e.ftp,r=e.weight,a=e.runningTimes,i=e.lengthType;switch(t){case"bike":return new ft(n,r);case"run":return new pt(a,i)}}({sportType:e,ftp:t,weight:n,runningTimes:r,lengthType:a})})),hn=Object(z.d)({name:"intervals",initialState:[],reducers:{setIntervals:function(e,t){return t.payload},addInterval:function(e,t){return[].concat(Object(W.a)(e),[t.payload])},updateInterval:function(e,t){return cn(t.payload,e)},removeInterval:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))}},extraReducers:function(e){e.addCase(Qt,(function(e,t){var n;return qt(null===(n=t.payload)||void 0===n?void 0:n.intervals)})).addCase(Z,(function(){return[]})).addCase(P,(function(e,t){return t.payload.intervals}))}}),bn=hn.reducer,vn=hn.actions,gn=vn.setIntervals,yn=vn.addInterval,On=vn.updateInterval,xn=vn.removeInterval,En=Object(z.c)("intervals/removeSelectedInterval",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());r(xn(a)),r(fn())})),jn=Object(z.c)("intervals/duplicateSelectedInterval",(function(e,t){var n=t.getState,r=t.dispatch,a=Sn(n());a&&r(yn(ot(a))),r(fn())})),wn=Object(z.c)("intervals/adjustSelectedIntervalIntensity",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());if(a){var i=Tn(n());r(gn(function(e,t,n){return on(e,(function(e){if("steady"===e.type){var n=e.intensity+t;if(n>Xt.Z1.min)return Object(L.a)(Object(L.a)({},e),{},{intensity:n})}return e}),n)}(a,e,i)))}})),kn=Object(z.c)("intervals/adjustSelectedIntervalDuration",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());if(a){var i=Tn(n()),o=mn(n());r(gn(function(e,t,n,r){return on(e,(function(e){if("steady"===e.type){var n=r.intervalDuration(e).seconds+t.seconds;if(n>0)return Object(L.a)(Object(L.a)({},e),{},{length:new qe(n)})}return e}),n)}(a,e,i,o)))}})),In=Object(z.c)("intervals/moveSelectedInterval",(function(e,t){var n=t.getState,r=t.dispatch,a=pn(n());if(a){var i=Tn(n());r(gn(function(e,t,n){var r=n.findIndex(Object(nn.a)("id",e)),a=r+t;return r<0||a<0||a>=n.length?n:Object(an.a)(r,a,n)}(a,e,i)))}})),Cn=Object(z.c)("intervals/setSelectedIntervalPace",(function(e,t){var n=t.getState,r=t.dispatch,a=Sn(n());a&&"steady"===a.type&&r(On(Object(L.a)(Object(L.a)({},a),{},{pace:e})))})),Tn=function(e){return e.intervals},Sn=Object(D.a)(pn,Tn,(function(e,t){return t.find((function(t){return t.id===e}))})),Rn=Object(D.a)(Sn,(function(e){return e&&"free"!==e.type?e.pace:void 0})),Fn=Object(z.d)({name:"instructions",initialState:[],reducers:{setInstructions:function(e,t){return t.payload},addInstruction:function(e,t){return[].concat(Object(W.a)(e),[t.payload])},updateInstruction:function(e,t){return cn(t.payload,e)},removeInstruction:function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))}},extraReducers:function(e){e.addCase(Qt,(function(e,t){var n;return qt(null===(n=t.payload)||void 0===n?void 0:n.instructions)})).addCase(Z,(function(){return[]})).addCase(P,(function(e,t){return t.payload.instructions}))}}),Wn=Fn.reducer,Ln=Fn.actions,zn=Ln.setInstructions,Dn=Ln.addInstruction,Zn=Ln.updateInstruction,Pn=Ln.removeInstruction,Mn=function(e){return e.instructions},Hn=n(28);function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Un=a.a.createElement("title",null,"Untitled"),Bn=a.a.createElement("desc",null,"Created with Sketch."),Kn=a.a.createElement("defs",null),Gn=a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.a.createElement("polygon",{id:"Rectangle",fill:"#7F7E7F",points:"180 65.2104719 240 85.8538747 240 171.707749 180 171.707749"}),a.a.createElement("polygon",{id:"Rectangle",fill:"#3F8FCF",points:"120 43.4859336 180 65.1100145 180 171.707749 120 171.707749"}),a.a.createElement("polygon",{id:"Rectangle",fill:"#58C073",points:"60 22.1649934 120 43.597184 120 171.707749 60 171.707749"}),a.a.createElement("polygon",{id:"Rectangle",fill:"#F8CC46",points:"0 0 60 22.0976562 60 171.707749 0 171.707749"})),Yn=function(e){var t=e.svgRef,n=e.title,r=Nn(e,["svgRef","title"]);return a.a.createElement("svg",An({viewBox:"0 0 240 172",ref:t},r),void 0===n?Un:n?a.a.createElement("title",null,n):null,Bn,Kn,Gn)},Vn=a.a.forwardRef((function(e,t){return a.a.createElement(Yn,An({svgRef:t},e))}));n.p;function Jn(){return(Jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _n(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var qn=a.a.createElement("title",null,"Untitled"),$n=a.a.createElement("desc",null,"Created with Sketch."),Qn=a.a.createElement("defs",null),Xn=a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.a.createElement("polygon",{id:"Rectangle",fill:"#7F7E7F",points:"0 85.8538747 60 65.290624 60 171.707749 0 171.707749"}),a.a.createElement("polygon",{id:"Rectangle",fill:"#3F8FCF",points:"60 65.2906189 120 44 120 171.707749 60 171.707749"}),a.a.createElement("polygon",{id:"Rectangle",fill:"#58C073",points:"120 44 180 22 180 171.707749 120 171.707749"}),a.a.createElement("polygon",{id:"Rectangle",fill:"#F8CC46",points:"180 22 240 0 240 171.707749 180 171.707749"})),er=function(e){var t=e.svgRef,n=e.title,r=_n(e,["svgRef","title"]);return a.a.createElement("svg",Jn({viewBox:"0 0 240 172",ref:t},r),void 0===n?qn:n?a.a.createElement("title",null,n):null,$n,Qn,Xn)},tr=a.a.forwardRef((function(e,t){return a.a.createElement(er,Jn({svgRef:t},e))}));n.p;function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ar=a.a.createElement("title",null,"interval"),ir=a.a.createElement("desc",null,"Created with Sketch."),or=a.a.createElement("defs",null),cr=a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"interval"},a.a.createElement("rect",{id:"Rectangle-2",fill:"#F8CC46",x:0,y:0,width:24,height:170}),a.a.createElement("rect",{id:"Rectangle-2",fill:"#F8CC46",x:166,y:0,width:24,height:170}),a.a.createElement("rect",{id:"Rectangle-2",fill:"#F8CC46",x:83,y:0,width:24,height:170}),a.a.createElement("rect",{id:"Rectangle-3",fill:"#3F8FCF",x:24,y:63,width:59,height:107}),a.a.createElement("rect",{id:"Rectangle-3",fill:"#3F8FCF",x:190,y:63,width:59,height:107}),a.a.createElement("rect",{id:"Rectangle-3",fill:"#3F8FCF",x:107,y:63,width:59,height:107}))),lr=function(e){var t=e.svgRef,n=e.title,r=rr(e,["svgRef","title"]);return a.a.createElement("svg",nr({viewBox:"0 0 249 170",ref:t},r),void 0===n?ar:n?a.a.createElement("title",null,n):null,ir,or,cr)},ur=a.a.forwardRef((function(e,t){return a.a.createElement(lr,nr({svgRef:t},e))}));n.p;function sr(){return(sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var fr=a.a.createElement("title",null,"Rectangle"),pr=a.a.createElement("desc",null,"Created with Sketch."),mr=a.a.createElement("defs",null),hr=a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"warmup",fillRule:"nonzero",fill:"#F8CC46"},a.a.createElement("polygon",{id:"Rectangle",points:"0 0 40 0 40 121.707749 6.24500451e-16 121.707749"}))),br=function(e){var t=e.svgRef,n=e.title,r=dr(e,["svgRef","title"]);return a.a.createElement("svg",sr({viewBox:"0 0 40 30",ref:t},r),void 0===n?fr:n?a.a.createElement("title",null,n):null,pr,mr,hr)},vr=a.a.forwardRef((function(e,t){return a.a.createElement(br,sr({svgRef:t},e))}));n.p;function gr(){var e=Object(s.a)(["\n  max-width: 100px;\n"]);return gr=function(){return e},e}function yr(){var e=Object(s.a)(["\n  font-size: 20px;\n  border: 1px solid lightgray;\n  text-align: center;\n"]);return yr=function(){return e},e}var Or=m.b.input(yr()),xr=Object(m.b)(Ce)(gr()),Er=function(e){var t=e.name,n=e.label,r=e.value,i=e.onChange;return a.a.createElement(xr,null,a.a.createElement(ne,{htmlFor:t},n),a.a.createElement(Or,{type:"number",name:t,value:r,onChange:function(e){return i(parseInt(e.target.value))}}))},jr=n(121),wr=n.n(jr),kr=n(169);function Ir(){var e=Object(s.a)(["\n  display: inline-block;\n  background-color: white;\n  border: 1px solid lightgray;\n  text-align: center;\n  font-size: 13px;\n  border-radius: 5px;\n  min-width: 50px;\n"]);return Ir=function(){return e},e}var Cr=m.b.button(Ir());function Tr(){var e=Object(s.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return Tr=function(){return e},e}var Sr=Object(m.b)(f.a)(Tr()),Rr=function(e){var t=e.icon,n=e.children,r=e.onClick;return a.a.createElement(Cr,{onClick:r},a.a.createElement(Sr,{icon:t,size:"lg",fixedWidth:!0})," ",n)},Fr=n(170),Wr=n.n(Fr);function Lr(e,t){var n,r,a=(n=t.sportType,r=t.lengthType,{author:"",name:"",description:"",sportType:n,lengthType:r,tags:[],intervals:[],instructions:[]});e=e.replace(/<!--(.*?)-->/gm,"");var i=Wr.a.xml2js(e).elements[0];if("workout_file"!==i.name)throw new Error("Invalid ZWO file");var o=i.elements.findIndex((function(e){return"sportType"===e.name}));-1!==o&&i.elements[o].elements&&(a.sportType=i.elements[o].elements[0].text);var c=i.elements.findIndex((function(e){return"durationType"===e.name}));-1!==c&&i.elements[c].elements&&(a.lengthType=i.elements[c].elements[0].text);var l=i.elements.findIndex((function(e){return"author"===e.name}));-1!==l&&i.elements[l].elements&&(a.author=i.elements[l].elements[0].text);var u=i.elements.findIndex((function(e){return"name"===e.name}));-1!==u&&i.elements[u].elements&&(a.name=i.elements[u].elements[0].text);var s=i.elements.findIndex((function(e){return"description"===e.name}));-1!==s&&i.elements[s].elements&&(a.description=i.elements[s].elements[0].text);var d=i.elements.findIndex((function(e){return"tags"===e.name}));-1!==d&&i.elements[d].elements&&(a.tags=i.elements[d].elements.map((function(e){return e.attributes.name})));var f=i.elements.find((function(e){return"workout"===e.name&&"elements"in e}));if(!f)return a;var p=0,m=function(e){return"time"===a.lengthType?new qe(e):new $e(e)};return f.elements.map((function(e){var n=parseFloat(e.attributes.Duration);"SteadyState"===e.name&&a.intervals.push(nt({intensity:parseFloat(e.attributes.Power||e.attributes.PowerLow),length:m(parseFloat(e.attributes.Duration)),cadence:parseFloat(e.attributes.Cadence||"0"),pace:parseInt(e.attributes.pace||"0")},t)),"Ramp"!==e.name&&"Warmup"!==e.name&&"Cooldown"!==e.name||a.intervals.push(rt({startIntensity:parseFloat(e.attributes.PowerLow),endIntensity:parseFloat(e.attributes.PowerHigh),length:m(parseFloat(e.attributes.Duration)),pace:parseInt(e.attributes.pace||"0"),cadence:parseInt(e.attributes.Cadence||"0")},t)),"IntervalsT"===e.name&&(a.intervals.push(it({repeat:parseFloat(e.attributes.Repeat),onLength:m(parseFloat(e.attributes.OnDuration)),offLength:m(parseFloat(e.attributes.OffDuration)),onIntensity:parseFloat(e.attributes.OnPower),offIntensity:parseFloat(e.attributes.OffPower),onCadence:parseInt(e.attributes.Cadence||"0"),offCadence:parseInt(e.attributes.CadenceResting||"0"),pace:parseInt(e.attributes.pace||"0")},t)),n=(parseFloat(e.attributes.OnDuration)+parseFloat(e.attributes.OffDuration))*parseFloat(e.attributes.Repeat)),"free"===e.name&&a.intervals.push(at({length:m(parseFloat(e.attributes.Duration)),cadence:parseInt(e.attributes.Cadence||"0")},t));var r=e.elements;return r&&r.length>0&&r.forEach((function(e){"textevent"===e.name.toLowerCase()&&a.instructions.push({text:e.attributes.message||"",offset:m(p+parseFloat(e.attributes.timeoffset)),id:Object(Je.a)()})})),p+=n,!1})),a}var zr=function(e){var t=e.mode,n=e.onUpload;function r(){return(r=Object(kr.a)(wr.a.mark((function e(r){return wr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.t1=Lr,e.next=5,r.text();case 5:e.t2=e.sent,e.t3=t,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),e.next=14;break;case 11:e.prev=11,e.t5=e.catch(0),console.error(e.t5);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{accept:".xml,.zwo",id:"contained-button-file",type:"file",style:{display:"none"},onChange:function(e){return function(e){return r.apply(this,arguments)}(e.target.files[0])}}),a.a.createElement(Rr,{icon:p.q,onClick:function(){return document.getElementById("contained-button-file").click()}},"Upload"))};function Dr(){var e=Object(s.a)(["\n  color: white;\n  width: 50px;\n  height: 50px;\n  background-color: ",";\n"]);return Dr=function(){return e},e}var Zr=Object(m.b)(Cr)(Dr(),(function(e){return e.color})),Pr=n(40),Mr=n.n(Pr);var Hr=Object(c.b)((function(e){return{name:_(e),author:q(e),description:$(e),tags:Q(e),sportType:X(e),lengthType:ee(e),intervals:Tn(e),instructions:Mn(e),mode:mn(e)}}))((function(e){function t(){var t=function(e,t){var n=e.author,r=e.name,a=e.description,i=e.sportType,o=e.lengthType,c=e.tags,l=e.intervals,u=e.instructions,s=0,d=Mr.a.begin().ele("workout_file").ele("author",n).up().ele("name",r).up().ele("description",a).up().ele("sportType",i).up().ele("durationType",o).up().ele("tags");c.forEach((function(e){var t;t=Mr.a.create("tag").att("name",e),d.importDocument(t)})),d=d.up().ele("workout");var f=function(e){return e instanceof qe?e.seconds:e.meters};return l.forEach((function(e,n){var r,a;"steady"===e.type?(r=Mr.a.create("SteadyState").att("Duration",f(e.length)).att("Power",e.intensity).att("pace",e.pace),0!==e.cadence&&r.att("Cadence",e.cadence)):"ramp"===e.type&&e.startIntensity&&e.endIntensity?(a="Ramp",0===n&&(a="Warmup"),n===l.length-1&&(a="Cooldown"),e.startIntensity,e.endIntensity,r=Mr.a.create(a).att("Duration",f(e.length)).att("PowerLow",e.startIntensity).att("PowerHigh",e.endIntensity).att("pace",e.pace),0!==e.cadence&&r.att("Cadence",e.cadence)):"repetition"===e.type?(r=Mr.a.create("IntervalsT").att("Repeat",e.repeat).att("OnDuration",f(e.onLength)).att("OffDuration",f(e.offLength)).att("OnPower",e.onIntensity).att("OffPower",e.offIntensity).att("pace",e.pace),0!==e.onCadence&&r.att("Cadence",e.onCadence),0!==e.offCadence&&r.att("CadenceResting",e.offCadence)):(r=Mr.a.create("free").att("Duration",f(e.length)).att("FlatRoad",0),0!==e.cadence&&r.att("Cadence",e.cadence));var i=function(e){return t instanceof pt&&"distance"===t.lengthType?t.intervalDistance(e).meters:t.intervalDuration(e).seconds};u.filter((function(t){return f(t.offset)>=s&&f(t.offset)<s+i(e)})).forEach((function(e){r.ele("textevent",{timeoffset:f(e.offset)-s,message:e.text})})),d.importDocument(r),s+=i(e)})),d.end({pretty:!0})}({name:e.name,author:e.author,description:e.description,tags:e.tags,sportType:e.sportType,lengthType:e.lengthType,intervals:e.intervals,instructions:e.instructions},e.mode);return new Blob([t],{type:"application/xml"})}return a.a.createElement(Rr,{icon:p.i,onClick:function(){var e=t(),n=window.URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.style.display="none",r.href=n,r.download="workout.zwo",r.click(),window.URL.revokeObjectURL(n)}},"Download")}));function Ar(){var e=Object(s.a)(["\n  width: 30px;\n  margin: 0 auto;\n  display: block;\n  margin: 0 auto;\n"]);return Ar=function(){return e},e}var Nr=m.b.svg(Ar()),Ur=function(e){var t=e.svg,n=e.children,r=e.onClick;return a.a.createElement(Cr,{onClick:r},a.a.createElement(Nr,{as:t})," ",n)};function Br(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin: 10px auto;\n  padding: 20px;\n  background-color: white;\n\n  -webkit-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  -moz-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  border-radius: 5px;\n"]);return Br=function(){return e},e}var Kr={setFtp:Nt,setWeight:Ut,addInterval:yn,addInstruction:Dn,clearWorkout:Z,loadWorkout:P},Gr=m.b.div(Br()),Yr=Object(c.b)((function(e){return{sportType:X(e),ftp:Gt(e),weight:Yt(e),mode:mn(e)}}),Kr)((function(e){var t=e.mode,n=e.addInterval,r=e.addInstruction,i=Object(Hn.a)(e,["mode","addInterval","addInstruction"]);return a.a.createElement(Gr,null,"bike"===i.sportType?a.a.createElement("div",null,a.a.createElement(Zr,{color:$t.GRAY,onClick:function(){return n(nt({intensity:.5},t))}},"Z1"),a.a.createElement(Zr,{color:$t.BLUE,onClick:function(){return n(nt({intensity:Xt.Z2.min},t))}},"Z2"),a.a.createElement(Zr,{color:$t.GREEN,onClick:function(){return n(nt({intensity:Xt.Z3.min},t))}},"Z3"),a.a.createElement(Zr,{color:$t.YELLOW,onClick:function(){return n(nt({intensity:Xt.Z4.min},t))}},"Z4"),a.a.createElement(Zr,{color:$t.ORANGE,onClick:function(){return n(nt({intensity:Xt.Z5.min},t))}},"Z5"),a.a.createElement(Zr,{color:$t.RED,onClick:function(){return n(nt({intensity:Xt.Z6.min},t))}},"Z6")):a.a.createElement(Ur,{svg:vr,onClick:function(){return n(nt({},t))}},"Steady Pace"),a.a.createElement(Ur,{svg:tr,onClick:function(){return n(rt({startIntensity:.25,endIntensity:.75},t))}},"Warm up"),a.a.createElement(Ur,{svg:Vn,onClick:function(){return n(rt({startIntensity:.75,endIntensity:.25},t))}},"Cool down"),a.a.createElement(Ur,{svg:ur,onClick:function(){return n(it({},t))}},"Interval"),a.a.createElement(Rr,{icon:"bike"===i.sportType?p.c:p.m,onClick:function(){return n(at({},t))}},"bike"===i.sportType?"Free Ride":"Free Run"),a.a.createElement(Rr,{icon:p.g,onClick:function(){return r(function(e,t){return Object(L.a)({id:Object(Je.a)(),text:"",offset:"time"===t.lengthType?new qe(0):new $e(0)},e)}({},t))}},"Text Event"),"bike"===i.sportType&&a.a.createElement(Er,{name:"ftp",label:"FTP (W)",value:i.ftp,onChange:i.setFtp}),"bike"===i.sportType&&a.a.createElement(Er,{name:"weight",label:"Body Weight (kg)",value:i.weight,onChange:i.setWeight}),a.a.createElement(Rr,{icon:p.k,onClick:function(){window.confirm("Are you sure you want to create a new workout?")&&i.clearWorkout()}},"New"),a.a.createElement(Hr,null),a.a.createElement(zr,{mode:t,onUpload:i.loadWorkout}))})),Vr=n(58);function Jr(){var e=Object(s.a)(["\n  background-color: rgba(255, 255, 255, 0.1);\n  color: white;\n  border: 0;\n  border-bottom: 0px solid white;\n  font-size: 14px;\n  min-width: 1px;\n  flex: 1;\n"]);return Jr=function(){return e},e}function _r(){var e=Object(s.a)(["\n  font-size: 14px;\n  flex: 1;\n"]);return _r=function(){return e},e}function qr(){var e=Object(s.a)(["\n  display: flex;\n"]);return qr=function(){return e},e}function $r(){var e=Object(s.a)(["\n  position: absolute;\n  z-index: 100;\n  top: -95px;\n  left: 0;\n  color: white;\n  background-color: rgba(0, 0, 0, 0.7);\n  width: 150px;\n  border-radius: 5px;\n  margin: 5px 0;\n  text-align: center;\n  font-size: 14px;\n  padding: 5px;\n"]);return $r=function(){return e},e}var Qr=m.b.div($r());function Xr(e){var t,n=e.interval,r=e.mode,i=e.onCadenceChange;return a.a.createElement(a.a.Fragment,null,"steady"===n.type&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(f.a,{icon:p.e,fixedWidth:!0})," ",yt(r.power(n.intensity))),a.a.createElement("div",null,(t=r.wkg(n.intensity),Math.round(10*t)/10+" W/kg")," \xb7"," ",Ot(n.intensity)," FTP")),"ramp"===n.type&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(f.a,{icon:p.e,fixedWidth:!0})," ",yt(r.power(n.startIntensity))," -"," ",yt(r.power(n.endIntensity))),a.a.createElement("div",null,Ot(n.startIntensity)," -"," ",Ot(n.endIntensity)," FTP")),a.a.createElement(ta,null,a.a.createElement(na,null,"Cadence"),a.a.createElement(ra,{cadence:n.cadence,onCadenceChange:i})))}function ea(e){var t=e.interval,n=e.mode;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(f.a,{icon:p.l,fixedWidth:!0})," ",gt(n.intervalDistance(t))),"steady"===t.type&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,Ot(t.intensity)," ",xt(t.pace)),a.a.createElement("div",null,Et(n.speed(t.intensity,t.pace)))),"ramp"===t.type&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,Ot(t.startIntensity)," to"," ",Ot(t.endIntensity)," ",xt(t.pace)),a.a.createElement("div",null,Et(n.speed(t.startIntensity,t.pace))," ","to"," ",Et(n.speed(t.endIntensity,t.pace)))))}var ta=m.b.div(qr()),na=m.b.label(_r()),ra=m.b.input.attrs((function(e){return{type:"number",min:"40",max:"150",step:"5",value:e.cadence||"",onChange:function(t){e.onCadenceChange(parseInt(t.target.value))},onClick:function(e){e.stopPropagation()}}}))(Jr()),aa=function(e){var t=e.mode,n=Object(Hn.a)(e,["mode"]);return a.a.createElement(Qr,null,a.a.createElement("div",null,a.a.createElement(f.a,{icon:p.f,fixedWidth:!0})," ",vt(t.intervalDuration(n.interval))),t instanceof ft?a.a.createElement(Xr,Object.assign({mode:t},n)):a.a.createElement(ea,Object.assign({mode:t},n)))},ia=n(171),oa=n.n(ia);function ca(){var e=Object(s.a)(['\n  border: 1px solid white;\n  background-image: url("','");\n']);return ca=function(){return e},e}function la(){var e=Object(s.a)(["\n  position: relative;\n"]);return la=function(){return e},e}var ua=m.b.div(la()),sa=Object(m.b)(Vr.a)(ca(),oa.a),da=function(e){var t=e.interval,n=e.mode,i=Object(Hn.a)(e,["interval","mode"]),o=Object(r.useState)(n.lengthToWidth(t.length)),c=Object(d.a)(o,2),l=c[0],u=c[1],s=Object(r.useState)(!1),f=Object(d.a)(s,2),p=f[0],m=f[1],h=function(e){i.onChange(Object(L.a)(Object(L.a)({},t),{},{length:n.widthToLength(l+e)}))};return a.a.createElement(ua,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},style:i.selected?{zIndex:1}:{},onClick:function(){return i.onClick(t.id)}},(i.selected||p)&&a.a.createElement(aa,{interval:t,mode:n,onCadenceChange:function(e){return function(e){i.onChange(Object(L.a)(Object(L.a)({},t),{},{cadence:e}))}(e)}}),a.a.createElement(sa,{size:{width:n.lengthToWidth(t.length),height:100},minWidth:3,minHeight:100,maxHeight:100,enable:{right:!0},grid:[1,1],onResizeStop:function(e,t,n,r){return a=r.width,u(l+a),void h(a);var a},onResize:function(e,t,n,r){return h(r.width)}}))};function fa(){var e=Object(s.a)(["\n  border-radius: 10px;\n  border: 1px solid white;\n"]);return fa=function(){return e},e}function pa(){var e=Object(s.a)(["\n  position: relative;\n"]);return pa=function(){return e},e}var ma=m.b.div(pa()),ha=Object(m.b)(Vr.a)(fa()),ba=function(e){var t=e.interval,n=e.mode,i=Object(Hn.a)(e,["interval","mode"]),o={backgroundColor:tn(t.intensity)},c=Object(r.useState)(n.lengthToWidth(t.length)),l=Object(d.a)(c,2),u=l[0],s=l[1],f=Object(r.useState)(n.intensityToHeight(t.intensity)),p=Object(d.a)(f,2),m=p[0],h=p[1],b=Object(r.useState)(!1),v=Object(d.a)(b,2),g=v[0],y=v[1],O=Object(r.useState)(i.selected),x=Object(d.a)(O,2),E=x[0],j=x[1];Object(r.useEffect)((function(){j(i.selected)}),[i.selected]);var w=function(e,r){i.onChange(Object(L.a)(Object(L.a)({},t),{},{length:n.widthToLength(u+e),intensity:n.heightToIntensity(m+r)}))};return a.a.createElement(ma,{onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},onClick:function(){return i.onClick(t.id)},style:i.selected?{zIndex:10}:{}},(E||g)&&i.showTooltip&&a.a.createElement(aa,{interval:t,mode:n,onCadenceChange:function(e){return function(e){i.onChange(Object(L.a)(Object(L.a)({},t),{},{cadence:e}))}(e)}}),a.a.createElement(ha,{size:{width:n.lengthToWidth(t.length),height:n.intensityToHeight(t.intensity)},minWidth:3,minHeight:250*Xt.Z1.min,maxHeight:250*Xt.Z6.max,enable:{top:!0,right:!0},grid:[1,1],onResizeStop:function(e,t,n,r){return a=r.width,i=r.height,s(u+a),h(m+i),void w(a,i);var a,i},onResize:function(e,t,n,r){return w(r.width,r.height)},style:o}))};function va(){var e=Object(s.a)(["\n  fill: white;\n  display: hidden;\n"]);return va=function(){return e},e}function ga(){var e=Object(s.a)(["\n  fill: transparent;\n"]);return ga=function(){return e},e}function ya(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n"]);return ya=function(){return e},e}function Oa(){var e=Object(s.a)(["\n  &:first-child {\n    border-bottom-left-radius: 5px;\n  }\n  &:last-child {\n    border-bottom-right-radius: 5px;\n  }\n"]);return Oa=function(){return e},e}function xa(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 0px;\n  left: 0;\n  width: 100%;\n  display: flex;\n"]);return xa=function(){return e},e}function Ea(){var e=Object(s.a)(["\n  border-top: 1px dotted gray;\n  z-index: 5;\n"]);return Ea=function(){return e},e}function ja(){var e=Object(s.a)(["\n  display: flex;\n  align-items: flex-end;\n"]);return ja=function(){return e},e}function wa(){var e=Object(s.a)(["\n  position: relative;\n"]);return wa=function(){return e},e}var ka=m.b.div(wa()),Ia=m.b.div(ja()),Ca=Object(m.b)(Vr.a)(Ea()),Ta=function(e){var t=e.interval,n=e.startHeight,r=e.endHeight,i=r>n?r:n,o=r>n?Fa(t.startIntensity,t.endIntensity):Fa(t.endIntensity,t.startIntensity),c=r>n?"row":"row-reverse";return a.a.createElement(Sa,{style:{height:i,flexDirection:c,backgroundColor:tn(t.startIntensity)}},a.a.createElement(Ra,{style:{backgroundColor:$t.GRAY,width:"".concat(100*o.Z1/Math.abs(t.endIntensity-t.startIntensity),"%")}}),a.a.createElement(Ra,{style:{backgroundColor:$t.BLUE,width:"".concat(100*o.Z2/Math.abs(t.endIntensity-t.startIntensity),"%")}}),a.a.createElement(Ra,{style:{backgroundColor:$t.GREEN,width:"".concat(100*o.Z3/Math.abs(t.endIntensity-t.startIntensity),"%")}}),a.a.createElement(Ra,{style:{backgroundColor:$t.YELLOW,width:"".concat(100*o.Z4/Math.abs(t.endIntensity-t.startIntensity),"%")}}),a.a.createElement(Ra,{style:{backgroundColor:$t.ORANGE,width:"".concat(100*o.Z5/Math.abs(t.endIntensity-t.startIntensity),"%")}}),a.a.createElement(Ra,{style:{backgroundColor:$t.RED,width:"".concat(100*o.Z6/Math.abs(t.endIntensity-t.startIntensity),"%")}}))},Sa=m.b.div(xa()),Ra=m.b.div(Oa());function Fa(e,t){var n={};return en.forEach((function(r,a){e>=r[0]&&e<r[1]?n["Z"+(a+1)]=r[1]-e:t>=r[0]&&t<r[1]?n["Z"+(a+1)]=t-r[0]:t>=r[1]&&e<r[0]?n["Z"+(a+1)]=r[1]-r[0]:n["Z"+(a+1)]=0})),n}var Wa=function(e){var t=e.width,n=e.startHeight,r=e.endHeight,i=r>n?r:n,o=r>n?r-n:n-r,c=r>n?0:t,l=r>n?o:0,u=r>n?0:o;return a.a.createElement(La,{height:"".concat(i),width:"".concat(t)},a.a.createElement(za,{points:"0,".concat(l," 0,").concat(i," ").concat(t,",").concat(i," ").concat(t,",").concat(u)}),a.a.createElement(Da,{points:"0,0 ".concat(c,",").concat(o," ").concat(t,",0")}))},La=m.b.svg(ya()),za=m.b.polygon(ga()),Da=m.b.polygon(va()),Za=function(e){var t=e.interval,n=e.mode,i=Object(Hn.a)(e,["interval","mode"]),o=Object(r.useState)(!1),c=Object(d.a)(o,2),l=c[0],u=c[1],s=n.lengthToWidth(t.length),f=Object(r.useState)(s),p=Object(d.a)(f,2),m=p[0],h=p[1],b=n.intensityToHeight(t.startIntensity),v=Object(r.useState)(b),g=Object(d.a)(v,2),y=g[0],O=g[1],x=n.intensityToHeight(t.endIntensity),E=Object(r.useState)(x),j=Object(d.a)(E,2),w=j[0],k=j[1];return a.a.createElement(ka,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},style:i.selected?{zIndex:1}:{},onClick:function(){return i.onClick(t.id)}},(i.selected||l)&&a.a.createElement(aa,{interval:t,mode:n,onCadenceChange:function(e){return function(e){i.onChange(Object(L.a)(Object(L.a)({},t),{},{cadence:e}))}(e)}}),a.a.createElement(Ia,{onClick:function(){return i.onClick(t.id)}},a.a.createElement(Ca,{size:{width:m/2,height:y},minWidth:3,minHeight:250*Xt.Z1.min,maxHeight:250*Xt.Z6.max,enable:{top:!0,right:!0},grid:[1,1],onResizeStop:function(e,t,n,r){return a=r.height,void O(y+a);var a},onResize:function(e,r,a,o){return c=o.height,void i.onChange(Object(L.a)(Object(L.a)({},t),{},{startIntensity:n.heightToIntensity(y+c)}));var c}}),a.a.createElement(Ca,{size:{width:m/2,height:w},minWidth:3,minHeight:250*Xt.Z1.min,maxHeight:250*Xt.Z6.max,enable:{top:!0,right:!0},grid:[1,1],onResizeStop:function(e,t,n,r){return a=r.width,i=r.height,h(m+a),void k(w+i);var a,i},onResize:function(e,r,a,o){return c=o.width,l=o.height,void i.onChange(Object(L.a)(Object(L.a)({},t),{},{length:n.widthToLength(m+c),startIntensity:n.heightToIntensity(y),endIntensity:n.heightToIntensity(w+l)}));var c,l}})),a.a.createElement(Ta,{interval:t,startHeight:b,endHeight:x}),a.a.createElement(Wa,{width:s,startHeight:b,endHeight:x}))},Pa=n(272);function Ma(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n"]);return Ma=function(){return e},e}function Ha(){var e=Object(s.a)(["\n  position: absolute;\n  margin-top: -30px;\n"]);return Ha=function(){return e},e}var Aa=m.b.div(Ha()),Na=m.b.div(Ma()),Ua=function(e){var t=e.interval,n=Object(Hn.a)(e,["interval"]),i=Object(r.useState)(t.repeat),o=Object(d.a)(i,2),c=o[0],l=o[1],u=Object(r.useState)(t.onLength),s=Object(d.a)(u,2),f=s[0],p=s[1],m=Object(r.useState)(t.offLength),h=Object(d.a)(m,2),b=h[0],v=h[1],g=Object(r.useMemo)((function(){return Object(Pa.a)(0,c).flatMap((function(){return[nt({length:f,intensity:t.onIntensity,cadence:t.onCadence,pace:t.pace},n.mode),nt({length:b,intensity:t.offIntensity,cadence:t.offCadence,pace:t.pace},n.mode)]}))}),[c]);function y(e){var r=g.findIndex((function(t){return t.id===e.id}));r%2===1?v(e.length):p(e.length);for(var a=0;a<g.length;a++)r%2===a%2&&(g[a].length=e.length,g[a].intensity=e.intensity,g[a].cadence=e.cadence);n.onChange(Object(L.a)(Object(L.a)({},t),{},{onCadence:g[0].cadence,offCadence:g[1].cadence,repeat:c,onLength:g[0].length,offLength:g[1].length,onIntensity:g[0].intensity,offIntensity:g[1].intensity}))}return a.a.createElement("div",null,a.a.createElement(Aa,null,a.a.createElement("button",{onClick:function(){l(c+1),n.onChange(Object(L.a)(Object(L.a)({},t),{},{repeat:t.repeat+1}))}},"+"),a.a.createElement("button",{onClick:function(){c>1&&(l(c-1),n.onChange(Object(L.a)(Object(L.a)({},t),{},{repeat:t.repeat-1})))}},"-")),a.a.createElement(Na,null,g.map((function(e,r){return i=e,o=0===r||r===g.length-1,a.a.createElement(ba,{key:i.id,interval:i,mode:n.mode,onChange:y,onClick:function(){return n.onClick(t.id)},selected:n.selected,showTooltip:o});var i,o}))))},Ba=function(e){var t=e.interval,n=e.mode,r=e.selected,i=e.onChange,o=e.onClick;switch(t.type){case"steady":return a.a.createElement(ba,{interval:t,mode:n,onChange:i,onClick:o,selected:r,showTooltip:!0});case"ramp":return a.a.createElement(Za,{interval:t,mode:n,onChange:i,onClick:o,selected:r});case"free":return a.a.createElement(da,{interval:t,mode:n,onChange:i,onClick:o,selected:r});case"repetition":return a.a.createElement(Ua,{interval:t,mode:n,onChange:i,onClick:o,selected:r})}},Ka=n(172),Ga=n.n(Ka);function Ya(){var e=Object(s.a)(["\n  color: gray;\n"]);return Ya=function(){return e},e}function Va(){var e=Object(s.a)(["\n  display: block;\n  padding: 5px;\n  width: 250px;\n  background-color: white;\n"]);return Va=function(){return e},e}function Ja(){var e=Object(s.a)(["\n  font-size: 13px;\n"]);return Ja=function(){return e},e}function _a(){var e=Object(s.a)(["\n  position: absolute;\n  top: 30px;\n  left: 0px;\n  right: 0;\n  height: 90vh;\n  width: 1px;\n  border-left: 1px dotted gray;\n  z-index: 0;\n"]);return _a=function(){return e},e}function qa(){var e=Object(s.a)(["\n  position: relative;\n  padding: 5px;\n"]);return qa=function(){return e},e}function $a(){var e=Object(s.a)(["\n  display: block;\n  opacity: 0.7;\n"]);return $a=function(){return e},e}function Qa(){var e=Object(s.a)(["\n  position: absolute;\n"]);return Qa=function(){return e},e}var Xa={meters:10,seconds:5},ei=m.b.div(Qa()),ti=Object(m.b)(f.a).attrs((function(){return{icon:p.g,size:"lg",fixedWidth:!0,className:"handle"}}))($a()),ni=m.b.div(qa()),ri=m.b.div(_a()),ai=m.b.span(Ja()),ii=m.b.textarea(Va()),oi=Object(m.b)(f.a).attrs((function(){return{icon:p.p,fixedWidth:!0}}))(Ya()),ci=function(e){var t=Object(r.useState)(e.instruction.text),n=Object(d.a)(t,2),i=n[0],o=n[1],c=Object(r.useState)(e.mode.lengthToWidth(e.instruction.offset)),l=Object(d.a)(c,2),u=l[0],s=l[1],f=Object(r.useState)(!1),p=Object(d.a)(f,2),m=p[0],h=p[1];var b;return a.a.createElement(Ga.a,{axis:"x",handle:".handle",defaultPosition:{x:u,y:e.index%5*20},bounds:{left:0,right:e.width},scale:1,onStop:function(t,n){return r=n.x,void e.onChange({id:e.instruction.id,text:i,offset:e.mode.widthToLength(r,Xa)});var r},onDrag:function(e,t){return n=t.x,h(!1),void s(n);var n}},a.a.createElement(ei,null,a.a.createElement(ti,{onMouseDown:function(){return h(!m)}}),m&&a.a.createElement(ni,null,a.a.createElement(oi,{onClick:function(){(""===i||window.confirm("Are you sure you want to delete this comment?"))&&e.onDelete(e.instruction.id)}}),a.a.createElement(ai,null,(b=e.instruction.offset)instanceof qe?vt(b):"".concat(b.meters," m")),a.a.createElement(ii,{value:i,onChange:function(t){return n=t.target.value,o(n),void e.onChange({id:e.instruction.id,text:n,offset:e.mode.widthToLength(u,Xa)});var n}})),a.a.createElement(ri,null)))};function li(){var e=Object(s.a)(['\n  position: relative;\n  display: inline-block;\n  margin-top: 20px;\n  padding: 0;\n\n  &::before {\n    content: "";\n    position: absolute;\n    width: 1px;\n    height: 10px;\n    top: -20px;\n    left: 0;\n    background-color: gray;\n  }\n']);return li=function(){return e},e}function ui(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 0px;\n  border-top: 1px solid gray;\n  overflow: hidden;\n  min-width: 1320px;\n  width: ","px;\n"]);return ui=function(){return e},e}var si=m.b.div(ui(),(function(e){return e.width})),di=m.b.span(li());function fi(){var e=Object(s.a)(["\n  width: 200px;\n"]);return fi=function(){return e},e}var pi=Object(m.b)(di)(fi()),mi=function(e){var t,n=e.width;return a.a.createElement(si,{width:n},(t=6,Object(W.a)(new Array(t)).flatMap((function(e,t){return["00","10","20","30","40","50"].map((function(e){return"".concat(t,":").concat(e)}))}))).map((function(e){return a.a.createElement(pi,{key:e},e)})))};function hi(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: ","px;\n\n  /* Zone 6 has no upper bound */\n  &:not(:first-child) {\n    border-top: 1px solid gray;\n  }\n"]);return hi=function(){return e},e}function bi(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 50px;\n  left: 2px;\n  color: gray;\n"]);return bi=function(){return e},e}var vi=m.b.div(bi()),gi=m.b.div(hi(),(function(e){return 250*e.zone.max})),yi=function(){return a.a.createElement(vi,null,Object.entries(Xt).reverse().map((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return a.a.createElement(gi,{key:n,zone:r},n)})))};function Oi(){var e=Object(s.a)(["\n  width: 100px;\n"]);return Oi=function(){return e},e}var xi=Object(m.b)(di)(Oi()),Ei=function(e){var t=e.width;return a.a.createElement(si,{width:t},Object(W.a)(new Array(44)).map((function(e,t){return a.a.createElement(xi,{key:t},t,"K")})))};function ji(){var e=Object(s.a)(["\n  font-size: 16px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 10px;\n  border-radius: 5px;\n"]);return ji=function(){return e},e}var wi=m.b.select(ji()),ki=function(e){var t=e.value,n=e.onChange;return a.a.createElement(wi,{name:"pace",value:t,onChange:function(e){return n(parseInt(e.target.value))}},a.a.createElement("option",{value:"0"},"1 Mile Pace"),a.a.createElement("option",{value:"1"},"5K Pace"),a.a.createElement("option",{value:"2"},"10K Pace"),a.a.createElement("option",{value:"3"},"Half Marathon Pace"),a.a.createElement("option",{value:"4"},"Marathon Pace"))};function Ii(){var e=Object(s.a)(["\n  padding: 20px;\n  margin: 0 5px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  border: 0;\n  border-radius: 50%;\n"]);return Ii=function(){return e},e}var Ci=m.b.button(Ii()),Ti=function(e){var t=e.title,n=e.icon,r=e.onClick;return a.a.createElement(Ci,{onClick:r,title:t},a.a.createElement(f.a,{icon:n,size:"lg",fixedWidth:!0}))};function Si(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 220px;\n  margin: 0 auto;\n  padding: 5px;\n  z-index: 10;\n"]);return Si=function(){return e},e}var Ri={setSelectedIntervalPace:Cn,removeSelectedInterval:En,duplicateSelectedInterval:jn,moveSelectedInterval:In},Fi=m.b.div(Si()),Wi=Object(c.b)((function(e){return{sportType:X(e),selectedIntervalPace:Rn(e)}}),Ri)((function(e){var t=e.sportType,n=e.selectedIntervalPace,r=e.setSelectedIntervalPace,i=e.removeSelectedInterval,o=e.duplicateSelectedInterval,c=e.moveSelectedInterval;return a.a.createElement(Fi,null,a.a.createElement(Ti,{title:"Move Left",icon:p.a,onClick:function(){return c(-1)}}),a.a.createElement(Ti,{title:"Move Right",icon:p.b,onClick:function(){return c(1)}}),a.a.createElement(Ti,{title:"Delete",icon:p.o,onClick:i}),a.a.createElement(Ti,{title:"Duplicate",icon:p.h,onClick:o}),"run"===t&&a.a.createElement(ki,{value:n,onChange:r}))}));function Li(){var e=Object(s.a)(["\n  position: absolute;\n  top: 10px;\n  left: 0px;\n"]);return Li=function(){return e},e}function zi(){var e=Object(s.a)(["\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.9);\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 50000px;\n  height: 100%;\n  z-index: 1;\n"]);return zi=function(){return e},e}function Di(){var e=Object(s.a)(["\n  position: absolute;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  bottom: 0px;\n  padding-bottom: 40px;\n  margin-right: 100px;\n"]);return Di=function(){return e},e}function Zi(){var e=Object(s.a)(["\n  position: absolute;\n  width: 100%;\n  max-width: 1320px;\n  height: 100%;\n  overflow-y: hidden;\n  overflow-x: visible;\n  bottom: 10px;\n"]);return Zi=function(){return e},e}function Pi(){var e=Object(s.a)(["\n  flex: 1;\n  position: relative;\n  white-space: nowrap;\n  background-color: white;\n\n  padding: 0px 40px;\n  margin: 10px auto;\n  overflow-x: hidden;\n  width: 100%;\n  max-width: 1280px;\n  -webkit-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  -moz-box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  box-shadow: 0px 0px 27px -9px rgba(0, 0, 0, 0.35);\n  border-radius: 5px;\n"]);return Pi=function(){return e},e}var Mi={updateInterval:On,updateInstruction:Zn,setSelectedId:dn,clearSelection:fn,removeInstruction:Pn},Hi=m.b.div(Pi()),Ai=m.b.div(Zi()),Ni=m.b.div(Di()),Ui=m.b.div(zi()),Bi=m.b.div(Li()),Ki=Object(c.b)((function(e){return{lengthType:ee(e),intervals:Tn(e),instructions:Mn(e),mode:mn(e),selectedId:pn(e)}}),Mi)((function(e){var t=e.lengthType,n=e.intervals,i=e.instructions,o=e.mode,c=e.selectedId,l=e.updateInterval,u=e.updateInstruction,s=e.setSelectedId,f=e.clearSelection,p=e.removeInstruction,m=Object(r.useRef)(null),h=Object(r.useState)(1320),b=Object(d.a)(h,2),v=b[0],g=b[1];function y(e){e===c?f():s(e)}return Object(r.useEffect)((function(){var e;g((null===(e=m.current)||void 0===e?void 0:e.scrollWidth)||1320)}),[m]),a.a.createElement(Hi,null,c&&a.a.createElement(Wi,null),a.a.createElement(Ai,null,c&&a.a.createElement(Ui,{style:{width:v},onClick:f}),a.a.createElement(Ni,{ref:m},n.map((function(e){return a.a.createElement(Ba,{key:e.id,interval:e,mode:o,onChange:l,onClick:y,selected:e.id===c})}))),a.a.createElement(Bi,null,i.map((function(e,t){return a.a.createElement(ci,{key:e.id,instruction:e,width:bt(n,o).seconds/3,onChange:u,onDelete:p,index:t,mode:o})}))),"time"===t?a.a.createElement(mi,{width:v}):a.a.createElement(Ei,{width:v})),a.a.createElement(yi,null))}));function Gi(){var e=Object(s.a)(["\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n"]);return Gi=function(){return e},e}function Yi(){var e=Object(s.a)(["\n  margin: 0 auto;\n  text-align: left;\n  max-width: 1360px;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n"]);return Yi=function(){return e},e}function Vi(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n  margin: 0px;\n  background-color: #eaeaea;\n  overflow-x: hidden;\n"]);return Vi=function(){return e},e}var Ji={setSportType:Y,setLengthType:V,setRunningTimes:Bt,setIntervals:gn,setInstructions:zn,adjustSelectedIntervalIntensity:wn,adjustSelectedIntervalDuration:kn,updateInterval:On,updateInstruction:Zn,setSelectedId:dn,clearSelection:fn,removeSelectedInterval:En,removeInstruction:Pn},_i=Object(m.b)(Ve)(Vi()),qi=m.b.div(Yi()),$i=m.b.div(Gi()),Qi=Object(c.b)((function(e){return{name:_(e),author:q(e),description:$(e),sportType:X(e),lengthType:ee(e),ftp:Gt(e),runningTimes:Vt(e),intervals:Tn(e),instructions:Mn(e),mode:mn(e)}}),Ji)((function(e){var t=e.name,n=e.author,i=e.description,o=e.sportType,c=e.lengthType,l=e.ftp,u=e.runningTimes,s=e.intervals,f=e.instructions,m=e.mode,h=e.setSportType,b=e.setLengthType,v=e.setRunningTimes,g=e.setIntervals,y=e.setInstructions,O=e.adjustSelectedIntervalIntensity,E=e.adjustSelectedIntervalDuration,j=e.removeSelectedInterval,w=Object(r.useState)(!1),k=Object(d.a)(w,2),I=k[0],T=k[1],S=function(){return 0===s.length&&0===f.length};return a.a.createElement(_i,{onBackspacePress:j,onUpPress:function(){return O(.01)},onDownPress:function(){return O(-.01)},onLeftPress:function(){return E(new qe(-5))},onRightPress:function(){return E(new qe(5))}},a.a.createElement(xe,{name:t,description:i}),I&&a.a.createElement(x,{width:"500px",onClose:function(){return T(!1)}},a.a.createElement(ye,null)),a.a.createElement(qi,null,a.a.createElement(Pt,{name:t,author:n,description:i,onClick:function(){return T(!0)}}),a.a.createElement($i,null,a.a.createElement(Tt,{intervals:s,ftp:l,mode:m}),"run"===o&&a.a.createElement(Ye,{label:"Duration Type",leftValue:"time",rightValue:"distance",leftIcon:p.f,rightIcon:p.l,selected:c,onChange:function(e){(S()||window.confirm("Switching from ".concat(c," to ").concat(e," will clear current workout. Are you sure?")))&&(g([]),y([]),b(e))}}),a.a.createElement(Ye,{label:"Sport Type",leftValue:"bike",rightValue:"run",leftIcon:p.d,rightIcon:p.m,selected:o,onChange:function(e){(S()||window.confirm("Switching from ".concat(o," to ").concat(e," will clear current workout. Are you sure?")))&&(g([]),y([]),h(e))}}))),"run"===o&&a.a.createElement(We,{times:u,onChange:v}),a.a.createElement(Ki,null),a.a.createElement(Yr,null),a.a.createElement(C,null))}));function Xi(){return a.a.createElement(l.a,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/"},a.a.createElement(Qi,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var eo=n(173),to=n.n(eo),no=Object(Jt.b)({key:"root",storage:to.a},{meta:A,athlete:Ht,intervals:bn,instructions:Wn,selectedId:un}),ro=Object(z.a)({reducer:no});Object(Jt.c)(ro);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,{store:ro},a.a.createElement(Xi,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[176,1,2]]]);
//# sourceMappingURL=main.3ae4a4c3.chunk.js.map